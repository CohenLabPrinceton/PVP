

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Main GUI Module &mdash; PVP 0.2.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/pvp_theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/_static/pvp_theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/pvp_logo_favicon.png"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="GUI Widgets" href="gui.widgets.html" />
    <link rel="prev" title="GUI" href="gui.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> PVP
          

          
            
            <img src="_static/pvp_logo_only.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">System Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Hardware:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hardware_overview.html">Hardware Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware_sensors.html">Sensors</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware_actuators.html">Actuators</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware_electronics.html">Electronics</a></li>
<li class="toctree-l1"><a class="reference internal" href="hardware_enclosure.html">Enclosure</a></li>
</ul>
<p class="caption"><span class="caption-text">Software:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="software_overview.html">Software Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="gui.html">GUI</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">PVP GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui.widgets.html">Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui.styles.html">Stylesheets</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui.html#module-overview">Module Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="gui.html#screenshot">Screenshot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="controller.html">Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="alarm.html">Alarm</a></li>
<li class="toctree-l1"><a class="reference internal" href="coordinator.html">Coordinator</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Ventilator Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasheets.html">Datasheets &amp; Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="specs.html">Specifications</a></li>
</ul>
<p class="caption"><span class="caption-text">Meta:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog/index.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildthedocs.html">Building the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_markdown.html">Markdown Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="meta_index.html">Index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PVP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="gui.html">GUI</a> &raquo;</li>
        
      <li>Main GUI Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/gui.main.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pvp.gui.main">
<span id="main-gui-module"></span><h1>Main GUI Module<a class="headerlink" href="#module-pvp.gui.main" title="Permalink to this headline">¶</a></h1>
<p><strong>Classes</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui" title="pvp.gui.main.PVP_Gui"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PVP_Gui</span></code></a>(coordinator, set_defaults, update_period)</p></td>
<td><p>The Main GUI window.</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.launch_gui" title="pvp.gui.main.launch_gui"><code class="xref py py-obj docutils literal notranslate"><span class="pre">launch_gui</span></code></a>(coordinator[, set_defaults, …])</p></td>
<td><p>Launch the GUI with its appropriate arguments and doing its special opening routine</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="pvp.gui.main.PVP_Gui">
<em class="property">class </em><code class="sig-prename descclassname">pvp.gui.main.</code><code class="sig-name descname">PVP_Gui</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coordinator</span><span class="p">:</span> <span class="n"><a class="reference internal" href="coordinator.html#pvp.coordinator.coordinator.CoordinatorBase" title="pvp.coordinator.coordinator.CoordinatorBase">pvp.coordinator.coordinator.CoordinatorBase</a></span></em>, <em class="sig-param"><span class="n">set_defaults</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em>, <em class="sig-param"><span class="n">update_period</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">0.05</span></em>, <em class="sig-param"><span class="n">screenshot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui" title="Permalink to this definition">¶</a></dt>
<dd><p>The Main GUI window.</p>
<p>Creates 5 sets of widgets:</p>
<ul class="simple">
<li><p>A <a class="reference internal" href="gui.widgets.control_panel.html#pvp.gui.widgets.control_panel.Control_Panel" title="pvp.gui.widgets.control_panel.Control_Panel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Control_Panel</span></code></a> in the top left corner that controls basic system operation and settings</p></li>
<li><p>A <a class="reference internal" href="gui.widgets.alarm_bar.html#pvp.gui.widgets.alarm_bar.Alarm_Bar" title="pvp.gui.widgets.alarm_bar.Alarm_Bar"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm_Bar</span></code></a> along the top that displays active alarms and allows them to be dismissed or muted</p></li>
<li><p>A column of <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display" title="pvp.gui.widgets.display.Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></a> widgets (according to <a class="reference internal" href="pvp.common.values.html#pvp.common.values.DISPLAY_MONITOR" title="pvp.common.values.DISPLAY_MONITOR"><code class="xref py py-data docutils literal notranslate"><span class="pre">values.DISPLAY_MONITOR</span></code></a> ) on the left that display sensor values and control their alarm limits</p></li>
<li><p>A column of <a class="reference internal" href="gui.widgets.plot.html#pvp.gui.widgets.plot.Plot" title="pvp.gui.widgets.plot.Plot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Plot</span></code></a> widgets (according to <a class="reference internal" href="pvp.common.values.html#pvp.common.values.PLOTS" title="pvp.common.values.PLOTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">values.PLOTS</span></code></a> ) in the center that display waveforms of sensor readings</p></li>
<li><p>A column of <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display" title="pvp.gui.widgets.display.Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></a> widgets (according to <a class="reference internal" href="pvp.common.values.html#pvp.common.values.DISPLAY_CONTROL" title="pvp.common.values.DISPLAY_CONTROL"><code class="xref py py-data docutils literal notranslate"><span class="pre">values.DISPLAY_CONTROL</span></code></a> ) that control ventilation settings</p></li>
</ul>
<p><strong>Attributes</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.CONTROL" title="pvp.gui.main.PVP_Gui.CONTROL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CONTROL</span></code></a></p></td>
<td><p>Values to create <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display" title="pvp.gui.widgets.display.Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></a> widgets for in the Control column.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.MONITOR" title="pvp.gui.main.PVP_Gui.MONITOR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MONITOR</span></code></a></p></td>
<td><p>Values to create <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display" title="pvp.gui.widgets.display.Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></a> widgets for in the Sensor Monitor column.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.PLOTS" title="pvp.gui.main.PVP_Gui.PLOTS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PLOTS</span></code></a></p></td>
<td><p>Values to create <a class="reference internal" href="gui.widgets.plot.html#pvp.gui.widgets.plot.Plot" title="pvp.gui.widgets.plot.Plot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Plot</span></code></a> widgets for.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.control_width" title="pvp.gui.main.PVP_Gui.control_width"><code class="xref py py-obj docutils literal notranslate"><span class="pre">control_width</span></code></a></p></td>
<td><p>Relative width of the control column</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.controls_set" title="pvp.gui.main.PVP_Gui.controls_set"><code class="xref py py-obj docutils literal notranslate"><span class="pre">controls_set</span></code></a></p></td>
<td><p>Check if all controls are set</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.gui_closing" title="pvp.gui.main.PVP_Gui.gui_closing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">gui_closing</span></code></a>(*args, **kwargs)</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtCore.Signal</span></code> emitted when the GUI is closing.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.monitor_width" title="pvp.gui.main.PVP_Gui.monitor_width"><code class="xref py py-obj docutils literal notranslate"><span class="pre">monitor_width</span></code></a></p></td>
<td><p>Relative width of the sensor monitor column</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.plot_width" title="pvp.gui.main.PVP_Gui.plot_width"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_width</span></code></a></p></td>
<td><p>Relative width of the plot column</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.state_changed" title="pvp.gui.main.PVP_Gui.state_changed"><code class="xref py py-obj docutils literal notranslate"><span class="pre">state_changed</span></code></a>(*args, **kwargs)</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtCore.Signal</span></code> emitted when the gui is started (True) or stopped (False)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.total_width" title="pvp.gui.main.PVP_Gui.total_width"><code class="xref py py-obj docutils literal notranslate"><span class="pre">total_width</span></code></a></p></td>
<td><p>computed from <code class="docutils literal notranslate"><span class="pre">monitor_width+plot_width+control_width</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#id0" title="pvp.gui.main.PVP_Gui.update_period"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_period</span></code></a></p></td>
<td><p>The global delay between redraws of the GUI (seconds)</p></td>
</tr>
</tbody>
</table>
<p><strong>Methods</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui._screenshot" title="pvp.gui.main.PVP_Gui._screenshot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_screenshot</span></code></a>()</p></td>
<td><p>Raise each of the alarm severities to check if they work and to take a screenshot</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui._set_cycle_control" title="pvp.gui.main.PVP_Gui._set_cycle_control"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_set_cycle_control</span></code></a>(value_name, new_value)</p></td>
<td><p>Compute the computed breath cycle control.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.closeEvent" title="pvp.gui.main.PVP_Gui.closeEvent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">closeEvent</span></code></a>(event)</p></td>
<td><p>Emit <a class="reference internal" href="#pvp.gui.main.PVP_Gui.gui_closing" title="pvp.gui.main.PVP_Gui.gui_closing"><code class="xref py py-attr docutils literal notranslate"><span class="pre">gui_closing</span></code></a> and close!</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.handle_alarm" title="pvp.gui.main.PVP_Gui.handle_alarm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">handle_alarm</span></code></a>(alarm)</p></td>
<td><p>Receive an <a class="reference internal" href="alarm.alarm.html#pvp.alarm.alarm.Alarm" title="pvp.alarm.alarm.Alarm"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm</span></code></a> from the <a class="reference internal" href="alarm.alarm_manager.html#pvp.alarm.alarm_manager.Alarm_Manager" title="pvp.alarm.alarm_manager.Alarm_Manager"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm_Manager</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_controls" title="pvp.gui.main.PVP_Gui.init_controls"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_controls</span></code></a>()</p></td>
<td><p>on startup, set controls in coordinator to ensure init state is synchronized</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui" title="pvp.gui.main.PVP_Gui.init_ui"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_ui</span></code></a>()</p></td>
<td><p><ol class="arabic simple" start="0">
<li><p>Create the UI components for the ventilator screen</p></li>
</ol>
</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_controls" title="pvp.gui.main.PVP_Gui.init_ui_controls"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_ui_controls</span></code></a>()</p></td>
<td><p><ol class="arabic simple" start="4">
<li><p>Create the “controls” column of <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Display</span></code> widgets</p></li>
</ol>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_monitor" title="pvp.gui.main.PVP_Gui.init_ui_monitor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_ui_monitor</span></code></a>()</p></td>
<td><p><ol class="arabic simple" start="2">
<li><p>Create the left “sensor monitor” column of <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Display</span></code> widgets</p></li>
</ol>
</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_plots" title="pvp.gui.main.PVP_Gui.init_ui_plots"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_ui_plots</span></code></a>()</p></td>
<td><p><ol class="arabic simple" start="3">
<li><p>Create the <a class="reference internal" href="gui.widgets.plot.html#pvp.gui.widgets.plot.Plot_Container" title="pvp.gui.widgets.plot.Plot_Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Plot_Container</span></code></a></p></li>
</ol>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_signals" title="pvp.gui.main.PVP_Gui.init_ui_signals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_ui_signals</span></code></a>()</p></td>
<td><p><ol class="arabic simple" start="5">
<li><p>Connect Qt signals and slots between widgets</p></li>
</ol>
</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_status_bar" title="pvp.gui.main.PVP_Gui.init_ui_status_bar"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_ui_status_bar</span></code></a>()</p></td>
<td><p><ol class="arabic simple">
<li><p>Create the <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Control_Panel</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Alarm_Bar</span></code></p></li>
</ol>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.limits_updated" title="pvp.gui.main.PVP_Gui.limits_updated"><code class="xref py py-obj docutils literal notranslate"><span class="pre">limits_updated</span></code></a>(control)</p></td>
<td><p>Receive updated alarm limits from the <a class="reference internal" href="alarm.alarm_manager.html#pvp.alarm.alarm_manager.Alarm_Manager" title="pvp.alarm.alarm_manager.Alarm_Manager"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm_Manager</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.load_state" title="pvp.gui.main.PVP_Gui.load_state"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_state</span></code></a>(state, dict])</p></td>
<td><p>Load GUI state and reconstitute</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.save_state" title="pvp.gui.main.PVP_Gui.save_state"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_state</span></code></a>()</p></td>
<td><p>Try to save GUI state to <code class="docutils literal notranslate"><span class="pre">prefs['VENT_DIR&quot;]</span> <span class="pre">+</span> <span class="pre">prefs['GUI_STATE_FN']</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.set_breath_detection" title="pvp.gui.main.PVP_Gui.set_breath_detection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_breath_detection</span></code></a>(breath_detection)</p></td>
<td><p>Connected to <code class="xref py py-attr docutils literal notranslate"><span class="pre">breath_detection_button</span></code> - toggles autonomous breath detection in the controller</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.set_control" title="pvp.gui.main.PVP_Gui.set_control"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_control</span></code></a>(control_object)</p></td>
<td><p>Set a control in the alarm manager, coordinator, and gui</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.set_pressure_units" title="pvp.gui.main.PVP_Gui.set_pressure_units"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pressure_units</span></code></a>(units)</p></td>
<td><p>Select whether pressure units are displayed as “cmH2O” or “hPa”</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.set_value" title="pvp.gui.main.PVP_Gui.set_value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_value</span></code></a>(new_value[, value_name])</p></td>
<td><p>Set a control value using a value and its name.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.start" title="pvp.gui.main.PVP_Gui.start"><code class="xref py py-obj docutils literal notranslate"><span class="pre">start</span></code></a>()</p></td>
<td><p>Click the <code class="xref py py-attr docutils literal notranslate"><span class="pre">start_button</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.toggle_cycle_widget" title="pvp.gui.main.PVP_Gui.toggle_cycle_widget"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toggle_cycle_widget</span></code></a>(button)</p></td>
<td><p>Set which breath cycle control is automatically calculated</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.toggle_lock" title="pvp.gui.main.PVP_Gui.toggle_lock"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toggle_lock</span></code></a>(state)</p></td>
<td><p>Toggle the lock state of the controls</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.toggle_start" title="pvp.gui.main.PVP_Gui.toggle_start"><code class="xref py py-obj docutils literal notranslate"><span class="pre">toggle_start</span></code></a>(state)</p></td>
<td><p>Start or stop ventilation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.update_gui" title="pvp.gui.main.PVP_Gui.update_gui"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_gui</span></code></a>(vals)</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">param vals</dt>
<dd class="field-odd"><p>Default None, but SensorValues can be passed manually – usually for debugging</p>
</dd>
</dl>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.update_state" title="pvp.gui.main.PVP_Gui.update_state"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_state</span></code></a>(state_type, key, val, float, int])</p></td>
<td><p>Update the GUI state and save it to disk with <code class="xref py py-meth docutils literal notranslate"><span class="pre">Vent_Gui.save_state()</span></code></p></td>
</tr>
</tbody>
</table>
<p>Continually polls the <code class="xref py py-attr docutils literal notranslate"><span class="pre">coordinator</span></code> with <a class="reference internal" href="#pvp.gui.main.PVP_Gui.update_gui" title="pvp.gui.main.PVP_Gui.update_gui"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_gui()</span></code></a> to receive new
<a class="reference internal" href="pvp.common.message.html#pvp.common.message.SensorValues" title="pvp.common.message.SensorValues"><code class="xref py py-class docutils literal notranslate"><span class="pre">SensorValues</span></code></a> and dispatch them to display widgets, plot widgets, and the alarm manager</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only one instance can be created at a time. Uses <code class="xref py py-func docutils literal notranslate"><span class="pre">set_gui_instance()</span></code> to
store a reference to itself. after initialization, use <cite>get_gui_instance</cite> to
retrieve a reference.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coordinator</strong> (<a class="reference internal" href="coordinator.html#pvp.coordinator.coordinator.CoordinatorBase" title="pvp.coordinator.coordinator.CoordinatorBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">CoordinatorBase</span></code></a>) – Used to communicate with the <a class="reference internal" href="controller.html#pvp.controller.control_module.ControlModuleBase" title="pvp.controller.control_module.ControlModuleBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ControlModuleBase</span></code></a> .</p></li>
<li><p><strong>set_defaults</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether default <cite>Value</cite> s should be set on initialization (default <code class="docutils literal notranslate"><span class="pre">False</span></code>) –
used for testing and development, values should be set manually for each patient.</p></li>
<li><p><strong>update_period</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The global delay between redraws of the GUI (seconds), used by <a class="reference internal" href="#pvp.gui.main.PVP_Gui.timer" title="pvp.gui.main.PVP_Gui.timer"><code class="xref py py-attr docutils literal notranslate"><span class="pre">timer</span></code></a> .</p></li>
<li><p><strong>screenshot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether alarms should be manually raised to show the different alarm severities,
only used for testing and development and should never be used in a live system.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.monitor">
<code class="sig-name descname">monitor</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary mapping <a class="reference internal" href="pvp.common.values.html#pvp.common.values.DISPLAY_MONITOR" title="pvp.common.values.DISPLAY_MONITOR"><code class="xref py py-data docutils literal notranslate"><span class="pre">values.DISPLAY_MONITOR</span></code></a> keys to <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Display</span></code> objects</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.controls">
<code class="sig-name descname">controls</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.controls" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary mapping <a class="reference internal" href="pvp.common.values.html#pvp.common.values.DISPLAY_CONTROL" title="pvp.common.values.DISPLAY_CONTROL"><code class="xref py py-data docutils literal notranslate"><span class="pre">values.DISPLAY_CONTROL</span></code></a> keys to <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Display</span></code> objects</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.plot_box">
<code class="sig-name descname">plot_box</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.plot_box" title="Permalink to this definition">¶</a></dt>
<dd><p>Container for plots</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Plot_Box</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.coordinator">
<code class="sig-name descname">coordinator</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.coordinator" title="Permalink to this definition">¶</a></dt>
<dd><p>Some coordinator object that we use to communicate with the controller</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="coordinator.html#pvp.coordinator.coordinator.CoordinatorBase" title="pvp.coordinator.coordinator.CoordinatorBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">pvp.coordinator.coordinator.CoordinatorBase</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.alarm_manager">
<code class="sig-name descname">alarm_manager</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.alarm_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Alarm manager instance</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="alarm.alarm_manager.html#pvp.alarm.alarm_manager.Alarm_Manager" title="pvp.alarm.alarm_manager.Alarm_Manager"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm_Manager</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.timer">
<code class="sig-name descname">timer</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.timer" title="Permalink to this definition">¶</a></dt>
<dd><p>Timer that calls <a class="reference internal" href="#pvp.gui.main.PVP_Gui.update_gui" title="pvp.gui.main.PVP_Gui.update_gui"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PVP_Gui.update_gui()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://doc.qt.io/qtforpython/PySide2/QtCore/QTimer.html#PySide2.QtCore.QTimer" title="(in PySide v5.15.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtCore.QTimer</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.running">
<code class="sig-name descname">running</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.running" title="Permalink to this definition">¶</a></dt>
<dd><p>whether ventilation is currently running</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.locked">
<code class="sig-name descname">locked</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.locked" title="Permalink to this definition">¶</a></dt>
<dd><p>whether controls have been locked</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.start_time">
<code class="sig-name descname">start_time</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Start time as returned by <a class="reference external" href="https://docs.python.org/3/library/time.html#time.time" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">time.time()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.update_period">
<code class="sig-name descname">update_period</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.update_period" title="Permalink to this definition">¶</a></dt>
<dd><p>The global delay between redraws of the GUI (seconds)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.logger">
<code class="sig-name descname">logger</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Logger generated by <a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.init_logger" title="pvp.common.loggers.init_logger"><code class="xref py py-func docutils literal notranslate"><span class="pre">loggers.init_logger()</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.gui_closing">
<code class="sig-name descname">gui_closing</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><em class="property"> = &lt;PySide2.QtCore.Signal object&gt;</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.gui_closing" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtCore.Signal</span></code> emitted when the GUI is closing.</p>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.state_changed">
<code class="sig-name descname">state_changed</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><em class="property"> = &lt;PySide2.QtCore.Signal object&gt;</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.state_changed" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtCore.Signal</span></code> emitted when the gui is started (True) or stopped (False)</p>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.MONITOR">
<code class="sig-name descname">MONITOR</code><em class="property"> = OrderedDict([(&lt;ValueName.PIP: 1&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PEEP: 3&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.BREATHS_PER_MINUTE: 5&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.INSPIRATION_TIME_SEC: 6&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PRESSURE: 10&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.VTE: 9&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.FLOWOUT: 11&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.FIO2: 8&gt;, &lt;pvp.common.values.Value object&gt;)])</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.MONITOR" title="Permalink to this definition">¶</a></dt>
<dd><p>Values to create <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display" title="pvp.gui.widgets.display.Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></a> widgets for in the Sensor Monitor column. See <a class="reference internal" href="pvp.common.values.html#pvp.common.values.DISPLAY_MONITOR" title="pvp.common.values.DISPLAY_MONITOR"><code class="xref py py-data docutils literal notranslate"><span class="pre">values.DISPLAY_MONITOR</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.CONTROL">
<code class="sig-name descname">CONTROL</code><em class="property"> = OrderedDict([(&lt;ValueName.PIP: 1&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PEEP: 3&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.BREATHS_PER_MINUTE: 5&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.INSPIRATION_TIME_SEC: 6&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.IE_RATIO: 7&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PIP_TIME: 2&gt;, &lt;pvp.common.values.Value object&gt;)])</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.CONTROL" title="Permalink to this definition">¶</a></dt>
<dd><p>Values to create <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display" title="pvp.gui.widgets.display.Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></a> widgets for in the Control column. See <a class="reference internal" href="pvp.common.values.html#pvp.common.values.CONTROL" title="pvp.common.values.CONTROL"><code class="xref py py-data docutils literal notranslate"><span class="pre">values.CONTROL</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.PLOTS">
<code class="sig-name descname">PLOTS</code><em class="property"> = OrderedDict([(&lt;ValueName.PRESSURE: 10&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.FLOWOUT: 11&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.FIO2: 8&gt;, &lt;pvp.common.values.Value object&gt;)])</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.PLOTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Values to create <a class="reference internal" href="gui.widgets.plot.html#pvp.gui.widgets.plot.Plot" title="pvp.gui.widgets.plot.Plot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Plot</span></code></a> widgets for. See <a class="reference internal" href="pvp.common.values.html#pvp.common.values.PLOTS" title="pvp.common.values.PLOTS"><code class="xref py py-data docutils literal notranslate"><span class="pre">values.PLOTS</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.monitor_width">
<code class="sig-name descname">monitor_width</code><em class="property"> = 3</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.monitor_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Relative width of the sensor monitor column</p>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.plot_width">
<code class="sig-name descname">plot_width</code><em class="property"> = 4</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.plot_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Relative width of the plot column</p>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.control_width">
<code class="sig-name descname">control_width</code><em class="property"> = 3</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.control_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Relative width of the control column</p>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.total_width">
<code class="sig-name descname">total_width</code><em class="property"> = 10</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.total_width" title="Permalink to this definition">¶</a></dt>
<dd><p>computed from <code class="docutils literal notranslate"><span class="pre">monitor_width+plot_width+control_width</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.update_gui">
<code class="sig-name descname">update_gui</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vals</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pvp.common.message.html#pvp.common.message.SensorValues" title="pvp.common.message.SensorValues">pvp.common.message.SensorValues</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.update_gui"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.update_gui" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vals</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">SensorValue</span></code>) – Default None, but SensorValues can be passed manually – usually for debugging</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.init_ui">
<code class="sig-name descname">init_ui</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.init_ui"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.init_ui" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple" start="0">
<li><p>Create the UI components for the ventilator screen</p></li>
</ol>
<p>Call, in order:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_status_bar" title="pvp.gui.main.PVP_Gui.init_ui_status_bar"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PVP_Gui.init_ui_status_bar()</span></code></a></p></li>
<li><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_monitor" title="pvp.gui.main.PVP_Gui.init_ui_monitor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PVP_Gui.init_ui_monitor()</span></code></a></p></li>
<li><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_plots" title="pvp.gui.main.PVP_Gui.init_ui_plots"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PVP_Gui.init_ui_plots()</span></code></a></p></li>
<li><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_controls" title="pvp.gui.main.PVP_Gui.init_ui_controls"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PVP_Gui.init_ui_controls()</span></code></a></p></li>
<li><p><a class="reference internal" href="#pvp.gui.main.PVP_Gui.init_ui_signals" title="pvp.gui.main.PVP_Gui.init_ui_signals"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PVP_Gui.init_ui_signals()</span></code></a></p></li>
</ul>
<p>Create and set sizes of major layouts</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.init_ui_status_bar">
<code class="sig-name descname">init_ui_status_bar</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.init_ui_status_bar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.init_ui_status_bar" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple">
<li><p>Create the <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Control_Panel</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Alarm_Bar</span></code></p></li>
</ol>
<p>and add them to the main layout</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.init_ui_monitor">
<code class="sig-name descname">init_ui_monitor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.init_ui_monitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.init_ui_monitor" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple" start="2">
<li><p>Create the left “sensor monitor” column of <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Display</span></code> widgets</p></li>
</ol>
<p>And add the logo to the bottom left corner if there’s room</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.init_ui_plots">
<code class="sig-name descname">init_ui_plots</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.init_ui_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.init_ui_plots" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple" start="3">
<li><p>Create the <a class="reference internal" href="gui.widgets.plot.html#pvp.gui.widgets.plot.Plot_Container" title="pvp.gui.widgets.plot.Plot_Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Plot_Container</span></code></a></p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.init_ui_controls">
<code class="sig-name descname">init_ui_controls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.init_ui_controls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.init_ui_controls" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple" start="4">
<li><p>Create the “controls” column of <code class="xref py py-class docutils literal notranslate"><span class="pre">widgets.Display</span></code> widgets</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.init_ui_signals">
<code class="sig-name descname">init_ui_signals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.init_ui_signals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.init_ui_signals" title="Permalink to this definition">¶</a></dt>
<dd><ol class="arabic simple" start="5">
<li><p>Connect Qt signals and slots between widgets</p></li>
</ol>
<ul class="simple">
<li><p>Connect controls and sensor monitors to <a class="reference internal" href="#pvp.gui.main.PVP_Gui.set_value" title="pvp.gui.main.PVP_Gui.set_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PVP_Gui.set_value()</span></code></a></p></li>
<li><p>Connect control panel buttons to their respective methods</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.set_value">
<code class="sig-name descname">set_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_value</span></em>, <em class="sig-param"><span class="n">value_name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.set_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.set_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a control value using a value and its name.</p>
<p>Constructs a <a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlSetting" title="pvp.common.message.ControlSetting"><code class="xref py py-class docutils literal notranslate"><span class="pre">message.ControlSetting</span></code></a> object to give to <a class="reference internal" href="#pvp.gui.main.PVP_Gui.set_control" title="pvp.gui.main.PVP_Gui.set_control"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PVP_Gui.set_control()</span></code></a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is primarily intended as a means of responding to signals from other widgets,
Other cases should use <a class="reference internal" href="#pvp.gui.main.PVP_Gui.set_control" title="pvp.gui.main.PVP_Gui.set_control"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_control()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – A new value for some control setting</p></li>
<li><p><strong>value_name</strong> (<a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName" title="pvp.common.values.ValueName"><code class="xref py py-class docutils literal notranslate"><span class="pre">values.ValueName</span></code></a>) – THe ValueName for the control setting.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, assumed to be coming from a <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display" title="pvp.gui.widgets.display.Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></a> widget that can identify itself with its <code class="docutils literal notranslate"><span class="pre">objectName</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.set_control">
<code class="sig-name descname">set_control</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">control_object</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlSetting" title="pvp.common.message.ControlSetting">pvp.common.message.ControlSetting</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.set_control"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.set_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a control in the alarm manager, coordinator, and gui</p>
<p>Also update our state with <code class="xref py py-meth docutils literal notranslate"><span class="pre">update_state()</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>control_object</strong> (<a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlSetting" title="pvp.common.message.ControlSetting"><code class="xref py py-class docutils literal notranslate"><span class="pre">message.ControlSetting</span></code></a>) – A control setting to give to <code class="xref py py-class docutils literal notranslate"><span class="pre">CoordinatorBase.set_control</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.handle_alarm">
<code class="sig-name descname">handle_alarm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">alarm</span><span class="p">:</span> <span class="n"><a class="reference internal" href="alarm.alarm.html#pvp.alarm.alarm.Alarm" title="pvp.alarm.alarm.Alarm">pvp.alarm.alarm.Alarm</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.handle_alarm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.handle_alarm" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive an <a class="reference internal" href="alarm.alarm.html#pvp.alarm.alarm.Alarm" title="pvp.alarm.alarm.Alarm"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm</span></code></a> from the <a class="reference internal" href="alarm.alarm_manager.html#pvp.alarm.alarm_manager.Alarm_Manager" title="pvp.alarm.alarm_manager.Alarm_Manager"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm_Manager</span></code></a></p>
<p>Alarms are both raised and cleared with this method – there is no separate “clear_alarm”
method because an alarm of <a class="reference internal" href="alarm.html#pvp.alarm.AlarmSeverity" title="pvp.alarm.AlarmSeverity"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlarmSeverity</span></code></a> of <code class="docutils literal notranslate"><span class="pre">OFF</span></code> is cleared.</p>
<p>Give the alarm to the <a class="reference internal" href="gui.widgets.alarm_bar.html#pvp.gui.widgets.alarm_bar.Alarm_Bar" title="pvp.gui.widgets.alarm_bar.Alarm_Bar"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm_Bar</span></code></a> and update the alarm <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display.alarm_state" title="pvp.gui.widgets.display.Display.alarm_state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Display.alarm_state</span></code></a> of all widgets listed as <code class="xref py py-attr docutils literal notranslate"><span class="pre">Alarm.cause</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>alarm</strong> (<a class="reference internal" href="alarm.alarm.html#pvp.alarm.alarm.Alarm" title="pvp.alarm.alarm.Alarm"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm</span></code></a>) – The alarm to raise (or clear)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.limits_updated">
<code class="sig-name descname">limits_updated</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">control</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlSetting" title="pvp.common.message.ControlSetting">pvp.common.message.ControlSetting</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.limits_updated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.limits_updated" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive updated alarm limits from the <a class="reference internal" href="alarm.alarm_manager.html#pvp.alarm.alarm_manager.Alarm_Manager" title="pvp.alarm.alarm_manager.Alarm_Manager"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm_Manager</span></code></a></p>
<p>When a value is set that has an <a class="reference internal" href="alarm.alarm_rule.html#pvp.alarm.rule.Alarm_Rule" title="pvp.alarm.rule.Alarm_Rule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Alarm_Rule</span></code></a> that <a class="reference internal" href="alarm.alarm_rule.html#pvp.alarm.rule.Alarm_Rule.depends" title="pvp.alarm.rule.Alarm_Rule.depends"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Alarm_Rule.depends</span></code></a> on it,
the alarm thresholds will be updated and handled here.</p>
<p>Eg. the high-pressure alarm is set to be 15% above PIP. When PIP is changed, this method will receive a <a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlSetting" title="pvp.common.message.ControlSetting"><code class="xref py py-class docutils literal notranslate"><span class="pre">message.ControlSetting</span></code></a>
that tells us that alarm threshold has changed.</p>
<p>Update the <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display" title="pvp.gui.widgets.display.Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></a> and <a class="reference internal" href="gui.widgets.plot.html#pvp.gui.widgets.plot.Plot" title="pvp.gui.widgets.plot.Plot"><code class="xref py py-class docutils literal notranslate"><span class="pre">Plot</span></code></a> widgets.</p>
<p>If we are setting a new HAPA limit, that is also sent to the controller as it needs to
respond as quickly as possible to high-pressure events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>control</strong> (<a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlSetting" title="pvp.common.message.ControlSetting"><code class="xref py py-class docutils literal notranslate"><span class="pre">message.ControlSetting</span></code></a>) – A ControlSetting with its <code class="xref py py-attr docutils literal notranslate"><span class="pre">max_value</span></code> or</p>
</dd>
</dl>
<p>:param <code class="xref py py-attr docutils literal notranslate"><span class="pre">min_value</span></code> set:</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.start">
<code class="sig-name descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Click the <code class="xref py py-attr docutils literal notranslate"><span class="pre">start_button</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.toggle_start">
<code class="sig-name descname">toggle_start</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.toggle_start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.toggle_start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start or stop ventilation.</p>
<p>Typically called by the <code class="xref py py-attr docutils literal notranslate"><span class="pre">PVP_Gui.control_panel.start_button</span></code>.</p>
<p>Raises a dialogue to confirm ventilation start or stop</p>
<p>Starts or stops the controller via the coordinator</p>
<p>If starting, locks controls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – If True, start ventilation. If False, stop ventilation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.closeEvent">
<code class="sig-name descname">closeEvent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">event</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.closeEvent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.closeEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit <a class="reference internal" href="#pvp.gui.main.PVP_Gui.gui_closing" title="pvp.gui.main.PVP_Gui.gui_closing"><code class="xref py py-attr docutils literal notranslate"><span class="pre">gui_closing</span></code></a> and close!</p>
<p>Kill the coordinator with <a class="reference internal" href="coordinator.html#pvp.coordinator.coordinator.CoordinatorBase.kill" title="pvp.coordinator.coordinator.CoordinatorBase.kill"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CoordinatorBase.kill()</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.toggle_lock">
<code class="sig-name descname">toggle_lock</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.toggle_lock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.toggle_lock" title="Permalink to this definition">¶</a></dt>
<dd><p>Toggle the lock state of the controls</p>
<p>Typically called by <code class="xref py py-attr docutils literal notranslate"><span class="pre">PVP_Gui.control_panel.lock_button</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> – </p>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.update_state">
<code class="sig-name descname">update_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state_type</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">key</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">val</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.update_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.update_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the GUI state and save it to disk with <code class="xref py py-meth docutils literal notranslate"><span class="pre">Vent_Gui.save_state()</span></code></p>
<p>Currently, just saves the state of control settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – What type of state to save, one of <code class="docutils literal notranslate"><span class="pre">('controls')</span></code></p></li>
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Which of that type is being saved (eg. if ‘control’, ‘PIP’)</p></li>
<li><p><strong>val</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – What is that item being set to?</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.save_state">
<code class="sig-name descname">save_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.save_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.save_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to save GUI state to <code class="docutils literal notranslate"><span class="pre">prefs['VENT_DIR&quot;]</span> <span class="pre">+</span> <span class="pre">prefs['GUI_STATE_FN']</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.load_state">
<code class="sig-name descname">load_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">Union<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.load_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.load_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Load GUI state and reconstitute</p>
<p>currently, just <a class="reference internal" href="#pvp.gui.main.PVP_Gui.set_value" title="pvp.gui.main.PVP_Gui.set_value"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PVP_Gui.set_value()</span></code></a> for all previously saved values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – either a pathname to a state file or an already-loaded state dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pvp.gui.main.PVP_Gui.staticMetaObject">
<code class="sig-name descname">staticMetaObject</code><em class="property"> = &lt;PySide2.QtCore.QMetaObject object&gt;</em><a class="headerlink" href="#pvp.gui.main.PVP_Gui.staticMetaObject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.toggle_cycle_widget">
<code class="sig-name descname">toggle_cycle_widget</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">button</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.toggle_cycle_widget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.toggle_cycle_widget" title="Permalink to this definition">¶</a></dt>
<dd><p>Set which breath cycle control is automatically calculated</p>
<p>The timing of a breath cycle can be parameterized with Respiration Rate,
Inspiration Time, and Inspiratory/Expiratory ratio, but if two of these
parameters are set the third is already known.</p>
<p>This method changes which value has its <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display" title="pvp.gui.widgets.display.Display"><code class="xref py py-class docutils literal notranslate"><span class="pre">Display</span></code></a> widget hidden and is automatically calculated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>button</strong> (<a class="reference external" href="https://doc.qt.io/qtforpython/PySide2/QtWidgets/QAbstractButton.html#PySide2.QtWidgets.QAbstractButton" title="(in PySide v5.15.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtWidgets.QAbstractButton</span></code></a>, <a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName" title="pvp.common.values.ValueName"><code class="xref py py-class docutils literal notranslate"><span class="pre">values.ValueName</span></code></a>) – The Qt Button that invoked the method
or else a ValueName</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.set_pressure_units">
<code class="sig-name descname">set_pressure_units</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">units</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.set_pressure_units"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.set_pressure_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Select whether pressure units are displayed as “cmH2O” or “hPa”</p>
<p>calls <a class="reference internal" href="gui.widgets.display.html#pvp.gui.widgets.display.Display.set_units" title="pvp.gui.widgets.display.Display.set_units"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Display.set_units()</span></code></a> on controls and plots that display pressure</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – one of “cmH2O” or “hPa”</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.set_breath_detection">
<code class="sig-name descname">set_breath_detection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">breath_detection</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.set_breath_detection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.set_breath_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Connected to <code class="xref py py-attr docutils literal notranslate"><span class="pre">breath_detection_button</span></code> - toggles autonomous breath detection in the controller</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>breath_detection</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether the controller detects autonomous breaths and resets the breath cycle accordingly</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui._set_cycle_control">
<code class="sig-name descname">_set_cycle_control</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">new_value</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui._set_cycle_control"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui._set_cycle_control" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the computed breath cycle control.</p>
<p>We only actually have BPM and INSPt as controls, so if we’re using I:E ratio we have to compute one or the other.</p>
<p>Computes the value and calls <a class="reference internal" href="#pvp.gui.main.PVP_Gui.set_control" title="pvp.gui.main.PVP_Gui.set_control"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_control()</span></code></a> with the appropriate values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ie = inspt/expt</span>
<span class="c1"># inspt = ie*expt</span>
<span class="c1"># expt = inspt/ie</span>
<span class="c1">#</span>
<span class="c1"># cycle_time = inspt + expt</span>
<span class="c1"># cycle_time = inspt + inspt/ie</span>
<span class="c1"># cycle_time = inspt * (1+1/ie)</span>
<span class="c1"># inspt = cycle_time / (1+1/ie)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.controls_set">
<em class="property">property </em><code class="sig-name descname">controls_set</code><a class="headerlink" href="#pvp.gui.main.PVP_Gui.controls_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if all controls are set</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that even when RR or INSPt are autocalculated, they are still set in their control objects, so
this check is the same regardless of what is set to autocalculate</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="id0">
<em class="property">property </em><code class="sig-name descname">update_period</code><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>The global delay between redraws of the GUI (seconds)</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui.init_controls">
<code class="sig-name descname">init_controls</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui.init_controls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui.init_controls" title="Permalink to this definition">¶</a></dt>
<dd><p>on startup, set controls in coordinator to ensure init state is synchronized</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.gui.main.PVP_Gui._screenshot">
<code class="sig-name descname">_screenshot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/gui/main.html#PVP_Gui._screenshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.PVP_Gui._screenshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise each of the alarm severities to check if they work and to take a screenshot</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>should never be used except for testing and development!</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pvp.gui.main.launch_gui">
<code class="sig-prename descclassname">pvp.gui.main.</code><code class="sig-name descname">launch_gui</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">coordinator</span></em>, <em class="sig-param"><span class="n">set_defaults</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">screenshot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; Tuple<span class="p">[</span><a class="reference external" href="https://doc.qt.io/qtforpython/PySide2/QtWidgets/QApplication.html#PySide2.QtWidgets.QApplication" title="(in PySide v5.15.0)">PySide2.QtWidgets.QApplication</a><span class="p">, </span><a class="reference internal" href="#pvp.gui.main.PVP_Gui" title="pvp.gui.main.PVP_Gui">pvp.gui.main.PVP_Gui</a><span class="p">]</span><a class="reference internal" href="_modules/pvp/gui/main.html#launch_gui"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.gui.main.launch_gui" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch the GUI with its appropriate arguments and doing its special opening routine</p>
<p>To launch the gui, one must:</p>
<ul class="simple">
<li><p>Create a <a class="reference external" href="https://doc.qt.io/qtforpython/PySide2/QtWidgets/QApplication.html#PySide2.QtWidgets.QApplication" title="(in PySide v5.15.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtWidgets.QApplication</span></code></a></p></li>
<li><p>Set the app style using <code class="xref py py-data docutils literal notranslate"><span class="pre">gui.styles.DARK_THEME</span></code></p></li>
<li><p>Set the app palette with <a class="reference internal" href="gui.styles.html#pvp.gui.styles.set_dark_palette" title="pvp.gui.styles.set_dark_palette"><code class="xref py py-func docutils literal notranslate"><span class="pre">gui.styles.set_dark_palette()</span></code></a></p></li>
<li><p>Call the gui’s <code class="docutils literal notranslate"><span class="pre">show</span></code> method</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coordinator</strong> (<a class="reference internal" href="coordinator.html#pvp.coordinator.coordinator.CoordinatorBase" title="pvp.coordinator.coordinator.CoordinatorBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">coordinator.CoordinatorBase</span></code></a>) – Coordinator used to communicate between GUI and controller</p></li>
<li><p><strong>set_defaults</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – whether default control parameters should be set on startup – only to be used for development or testing</p></li>
<li><p><strong>screenshot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – whether alarms should be raised to take a screenshot, should never be used on a live system.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <a class="reference external" href="https://doc.qt.io/qtforpython/PySide2/QtWidgets/QApplication.html#PySide2.QtWidgets.QApplication" title="(in PySide v5.15.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PySide2.QtWidgets.QApplication</span></code></a> and <a class="reference internal" href="#pvp.gui.main.PVP_Gui" title="pvp.gui.main.PVP_Gui"><code class="xref py py-class docutils literal notranslate"><span class="pre">PVP_Gui</span></code></a></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)">tuple</a>)</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gui.widgets.html" class="btn btn-neutral float-right" title="GUI Widgets" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gui.html" class="btn btn-neutral float-left" title="GUI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, jonny saunders et al

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>