

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sensors | Hardware &mdash; PVP 0.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/pvp_theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/_static/pvp_theme.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="common module" href="common.html" />
    <link rel="prev" title="Hardware" href="hardware.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> PVP
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="control_overview.html">Control Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Hardware:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="hardware.html">Hardware Overview</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="hardware.html#mechanical-diagram">Mechanical Diagram</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Sensors</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sensor-pcb">Sensor PCB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flow-sensor">Flow sensor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pressure-sensors">Pressure sensors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#oxygen-sensor">Oxygen sensor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#flow-actuators">Flow actuators</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#sensors">Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#safety-components">Safety Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#tubing-and-adapters">Tubing and Adapters</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware.html#bill-of-materials-need-to-think-about-what-goes-in-this-table-probably-separate-boms-into-tables-by-category-but-here-s-a-sample-table">Bill of Materials (need to think about what goes in this table, probably separate BoMs into tables by category, but here’s a sample table)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Software:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="common.html">common</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller.html">controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="coordinator.html">coordinator</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">io</a></li>
<li class="toctree-l1"><a class="reference internal" href="alarm.html">alarm</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Ventilator Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasheets.html">Datasheets &amp; Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="specs.html">Specifications</a></li>
</ul>
<p class="caption"><span class="caption-text">Meta:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog/index.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildthedocs.html">Building the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_markdown.html">Markdown Example</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PVP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="hardware.html">Hardware</a> &raquo;</li>
        
      <li>Sensors | Hardware</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/hardware.sensors.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sensors-hardware">
<h1>Sensors | Hardware<a class="headerlink" href="#sensors-hardware" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The TigerVent has four main sensors:
1. oxygen sensor (O2S)
2. proximal pressure sensor (PS1)
3. expiratory pressure sensor (PS2)
4. expiratory flow sensor (FS1)</p>
<p>These materials interface with a modular sensor PCB that can be reconfigured for part substitution.
The nominal design assumes both pressure sensors and the oxygen sensor have analog voltage outputs, and interface with the controller via I2C link with a 16-bit, 4 channel ADC (ADS1115).
The expiratory flow sensor (SFM3300 or equivalent) uses a direct I2C interface, but can be replaced by a commercial spirometer and an additional differential pressure sensor.</p>
</div>
<div class="section" id="sensor-pcb">
<h2>Sensor PCB<a class="headerlink" href="#sensor-pcb" title="Permalink to this headline">¶</a></h2>
<div class="section" id="schematic">
<h3>Schematic<a class="headerlink" href="#schematic" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id1" style="width: 100%">
<a class="reference internal image-reference" href="images/sensor_pcb_schematic.png"><img alt="images/sensor_pcb_schematic.png" src="images/sensor_pcb_schematic.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Electrical schematic for sensor board</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="bill-of-materials">
<h3>Bill of Materials<a class="headerlink" href="#bill-of-materials" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><ul>
<li><p>Ref</p></li>
<li><p>Part</p></li>
<li><p>Description</p></li>
<li><p>Datasheet</p></li>
</ul>
</li>
<li><ul>
<li><p>U1</p></li>
<li><p>Amphenol 1 PSI-D1-4V-MINI</p></li>
<li><p>Analog output differential pressure sensor</p></li>
<li><p>/DS-0103-Rev-A-1499253.pdf &lt;- not sure best way to do this</p></li>
</ul>
</li>
<li><ul>
<li><p>U3</p></li>
<li><p>Amphenol 1 PSI-D1-4V-MINI differential pressure sensor</p></li>
<li><p>Analog output differential pressure sensor</p></li>
<li><p>above</p></li>
</ul>
</li>
<li><ul>
<li><p>U2</p></li>
<li><p>Adafruit 4-channel ADS1115 ADC breakout</p></li>
<li><p>Supply ADC to RPi to read analog sensors</p></li>
<li><p>/adafruit-4-channel-adc-breakouts.pdf</p></li>
</ul>
</li>
<li><ul>
<li><p>U4</p></li>
<li><p>INA126 instrumentation amplifier, DIP-8</p></li>
<li><p>Instrumentation amplifier to boost oxygen sensor output</p></li>
<li><p>/ina126.pdf</p></li>
</ul>
</li>
<li><ul>
<li><p>J1</p></li>
<li><p>01x02 2.54 mm pin header</p></li>
<li><p>Breakout for alert pin from ADS1115 ADC</p></li>
<li><p>none</p></li>
</ul>
</li>
<li><ul>
<li><p>J2</p></li>
<li><p>02x04 2.54 mm pin header</p></li>
<li><p>Jumpers to select I2C address for ADC</p></li>
<li><p>none</p></li>
</ul>
</li>
<li><ul>
<li><p>J3</p></li>
<li><p>40 pin RPi hat connector</p></li>
<li><p>Extends RPi GPIO pins to the board</p></li>
<li><p>(to be inserted)</p></li>
</ul>
</li>
<li><ul>
<li><p>J4</p></li>
<li><p>01x02 2.54 mm 90 degree pin header</p></li>
<li><p>For direct connection to oxygen sensor output</p></li>
<li><p>none</p></li>
</ul>
</li>
<li><ul>
<li><p>J5</p></li>
<li><p>01x04 2.54 mm 90 degree pin header pin header</p></li>
<li><p>For I2C connection to SFM3300 flow meter</p></li>
<li><p>none</p></li>
</ul>
</li>
<li><ul>
<li><p>J6</p></li>
<li><p>01x03 2.54 mm 90 degree pin header pin header</p></li>
<li><p>Connector to use an additional analog output (ADS1115 input A3).</p></li>
<li><p>none</p></li>
</ul>
</li>
<li><ul>
<li><p>R1</p></li>
<li><p>1-2.7 k resistor</p></li>
<li><p>Optional I2C pullup resistor (RPi already has 1.8k pullups)</p></li>
<li><p>none</p></li>
</ul>
</li>
<li><ul>
<li><p>R2</p></li>
<li><p>1-2.7 k resistor</p></li>
<li><p>Connector to use an additional analog output (RPi already has 1.8k pullups).</p></li>
<li><p>none</p></li>
</ul>
</li>
<li><ul>
<li><p>R3</p></li>
<li><p>0.1-100k resistor</p></li>
<li><p>R_G that sets gain for the INA126 instrumentation amplifier (U4). G = 5 + 80k/R_G</p></li>
<li><p>none</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="flow-sensor">
<h2>Flow sensor<a class="headerlink" href="#flow-sensor" title="Permalink to this headline">¶</a></h2>
<p>Document D-lite alternative</p>
</div>
<div class="section" id="pressure-sensors">
<h2>Pressure sensors<a class="headerlink" href="#pressure-sensors" title="Permalink to this headline">¶</a></h2>
<p>Just use any other analog voltage output (0-4 V) sensor</p>
</div>
<div class="section" id="oxygen-sensor">
<h2>Oxygen sensor<a class="headerlink" href="#oxygen-sensor" title="Permalink to this headline">¶</a></h2>
<p>Explanation of interface circuit and some alts</p>
<ul class="simple">
<li><p>Expiratory flow sensor (FS1)</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="common.html" class="btn btn-neutral float-right" title="common module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hardware.html" class="btn btn-neutral float-left" title="Hardware" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, jonny saunders et al

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>