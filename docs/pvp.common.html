

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pvp.common package &mdash; PVP 0.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/pvp_theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/_static/pvp_theme.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> PVP
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="control_overview.html">Control Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Hardware:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hardware.html">Hardware Overview</a></li>
</ul>
<p class="caption"><span class="caption-text">Software:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="common.html">common</a></li>
<li class="toctree-l1"><a class="reference internal" href="controller.html">controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="coordinator.html">coordinator</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui.html">GUI</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">io</a></li>
<li class="toctree-l1"><a class="reference internal" href="alarm.html">alarm</a></li>
</ul>
<p class="caption"><span class="caption-text">Resources:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Ventilator Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasheets.html">Datasheets &amp; Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="specs.html">Specifications</a></li>
</ul>
<p class="caption"><span class="caption-text">Meta:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog/index.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildthedocs.html">Building the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_markdown.html">Markdown Example</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PVP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>pvp.common package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/pvp.common.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pvp-common-package">
<h1>pvp.common package<a class="headerlink" href="#pvp-common-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pvp.common.fashion">
<span id="pvp-common-fashion-module"></span><h2>pvp.common.fashion module<a class="headerlink" href="#module-pvp.common.fashion" title="Permalink to this headline">¶</a></h2>
<p>Decorators for dangerous functions</p>
<p><strong>Functions</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.fashion.html#pvp.common.fashion.locked" title="pvp.common.fashion.locked"><code class="xref py py-obj docutils literal notranslate"><span class="pre">locked</span></code></a>(func)</p></td>
<td><p>Wrapper to use as decorator, handle lock logic for a</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.fashion.html#pvp.common.fashion.pigpio_command" title="pvp.common.fashion.pigpio_command"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pigpio_command</span></code></a>(func)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt id="pvp.common.fashion.locked">
<code class="sig-prename descclassname">pvp.common.fashion.</code><code class="sig-name descname">locked</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/fashion.html#locked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.fashion.locked" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper to use as decorator, handle lock logic for a
&#64;property</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>func</strong> (<em>callable</em>) – function to wrap</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pvp.common.fashion.pigpio_command">
<code class="sig-prename descclassname">pvp.common.fashion.</code><code class="sig-name descname">pigpio_command</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/fashion.html#pigpio_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.fashion.pigpio_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-pvp.common.loggers">
<span id="pvp-common-loggers-module"></span><h2>pvp.common.loggers module<a class="headerlink" href="#module-pvp.common.loggers" title="Permalink to this headline">¶</a></h2>
<p>Logging functionality</p>
<p>There are two types of loggers: a standard <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Logger</span></code></a> -based logging system for debugging and recording system events,
and a <code class="xref py py-mod docutils literal notranslate"><span class="pre">tables</span></code> - based <a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger" title="pvp.common.loggers.DataLogger"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataLogger</span></code></a> class to store continuously measured sensor values.</p>
<p><strong>Classes</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger" title="pvp.common.loggers.DataLogger"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataLogger</span></code></a>(compression_level)</p></td>
<td><p>Class for logging numerical respiration data and control settings.</p></td>
</tr>
</tbody>
</table>
<p><strong>Data</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers._LOGGERS" title="pvp.common.loggers._LOGGERS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_LOGGERS</span></code></a></p></td>
<td><p>list of strings, which loggers have been created already.</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.init_logger" title="pvp.common.loggers.init_logger"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_logger</span></code></a>(module_name, log_level, file_handler)</p></td>
<td><p>Initialize a logger for logging events.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.log_exception" title="pvp.common.loggers.log_exception"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log_exception</span></code></a>(e, tb)</p></td>
<td><p># TODO: Stub exception logger. Prints exception type &amp; traceback</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.update_logger_sizes" title="pvp.common.loggers.update_logger_sizes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_logger_sizes</span></code></a>()</p></td>
<td><p>Adjust each logger’s <code class="docutils literal notranslate"><span class="pre">maxBytes</span></code> attribute so that the total across all loggers is <code class="docutils literal notranslate"><span class="pre">prefs.LOGGING_MAX_BYTES</span></code></p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt id="pvp.common.loggers._LOGGERS">
<code class="sig-prename descclassname">pvp.common.loggers.</code><code class="sig-name descname">_LOGGERS</code><em class="property"> = ['pvp.common.prefs', 'pvp.alarm.alarm_manager']</em><a class="headerlink" href="#pvp.common.loggers._LOGGERS" title="Permalink to this definition">¶</a></dt>
<dd><p>list of strings, which loggers have been created already.</p>
</dd></dl>

<dl class="py function">
<dt id="pvp.common.loggers.init_logger">
<code class="sig-prename descclassname">pvp.common.loggers.</code><code class="sig-name descname">init_logger</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">module_name</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">log_level</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">file_handler</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.8)">logging.Logger</a><a class="reference internal" href="_modules/pvp/common/loggers.html#init_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.init_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a logger for logging events.</p>
<p>If a logger has already been initialized, return that.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – module name used to generate filename and name logger</p></li>
<li><p><strong>log_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – one of <a href="#id1"><span class="problematic" id="id2">:var:`logging.DEBUG`</span></a>, <a href="#id3"><span class="problematic" id="id4">:var:`logging.INFO`</span></a>, <a href="#id5"><span class="problematic" id="id6">:var:`logging.WARNING`</span></a>, or <a href="#id7"><span class="problematic" id="id8">:var:`logging.ERROR`</span></a></p></li>
<li><p><strong>file_handler</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code>, (default), log in <code class="docutils literal notranslate"><span class="pre">&lt;logdir&gt;/module_name.log</span></code> .
if <code class="docutils literal notranslate"><span class="pre">False</span></code>, don’t log to disk.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Logger 4 u 2 use</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Logger</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pvp.common.loggers.update_logger_sizes">
<code class="sig-prename descclassname">pvp.common.loggers.</code><code class="sig-name descname">update_logger_sizes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#update_logger_sizes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.update_logger_sizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjust each logger’s <code class="docutils literal notranslate"><span class="pre">maxBytes</span></code> attribute so that the total across all loggers is <code class="docutils literal notranslate"><span class="pre">prefs.LOGGING_MAX_BYTES</span></code></p>
</dd></dl>

<dl class="py function">
<dt id="pvp.common.loggers.log_exception">
<code class="sig-prename descclassname">pvp.common.loggers.</code><code class="sig-name descname">log_exception</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">e</span></em>, <em class="sig-param"><span class="n">tb</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#log_exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.log_exception" title="Permalink to this definition">¶</a></dt>
<dd><p># TODO: Stub exception logger. Prints exception type &amp; traceback</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>e</strong> – Exception to log</p></li>
<li><p><strong>tb</strong> – TraceBack associated with Exception e</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pvp.common.loggers.DataLogger">
<em class="property">class </em><code class="sig-prename descclassname">pvp.common.loggers.</code><code class="sig-name descname">DataLogger</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">compression_level</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span> <span class="o">=</span> <span class="default_value">9</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for logging numerical respiration data and control settings.
Creates a hdf5 file with this general structure:</p>
<p><strong>Methods</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.__init__" title="pvp.common.loggers.DataLogger.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(compression_level)</p></td>
<td><p>Initialized the coontinuous numerical logger class.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger._open_logfile" title="pvp.common.loggers.DataLogger._open_logfile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_open_logfile</span></code></a>()</p></td>
<td><p>Opens the hdf5 file and generates the file structure.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.check_files" title="pvp.common.loggers.DataLogger.check_files"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_files</span></code></a>()</p></td>
<td><p>make sure that the file’s are not getting too large.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.close_logfile" title="pvp.common.loggers.DataLogger.close_logfile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">close_logfile</span></code></a>()</p></td>
<td><p>Flushes &amp; closes the open hdf file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.flush_logfile" title="pvp.common.loggers.DataLogger.flush_logfile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">flush_logfile</span></code></a>()</p></td>
<td><p>This flushes the datapoints to the file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.load_file" title="pvp.common.loggers.DataLogger.load_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_file</span></code></a>([filename])</p></td>
<td><p>This loads a hdf5 file, and returns data to the user as a dictionary with two keys: waveform_data and control_data</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.log2csv" title="pvp.common.loggers.DataLogger.log2csv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log2csv</span></code></a>([filename])</p></td>
<td><p>Translates the compressed hdf5 into three csv files containing:</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.log2mat" title="pvp.common.loggers.DataLogger.log2mat"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log2mat</span></code></a>([filename])</p></td>
<td><p>Translates the compressed hdf5 into a matlab file containing a matlab struct.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.rotation_newfile" title="pvp.common.loggers.DataLogger.rotation_newfile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rotation_newfile</span></code></a>()</p></td>
<td><p>This rotates through filenames, similar to a ringbuffer, to make sure that the program does not run of of space/</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.store_control_command" title="pvp.common.loggers.DataLogger.store_control_command"><code class="xref py py-obj docutils literal notranslate"><span class="pre">store_control_command</span></code></a>(control_setting)</p></td>
<td><p>Appends a datapoint to the event-table, derived from ControlSettings</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.store_derived_data" title="pvp.common.loggers.DataLogger.store_derived_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">store_derived_data</span></code></a>(derived_values)</p></td>
<td><p>Appends a datapoint to the event-table, derived the continuous data (PIP, PEEP etc.)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.loggers.html#pvp.common.loggers.DataLogger.store_waveform_data" title="pvp.common.loggers.DataLogger.store_waveform_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">store_waveform_data</span></code></a>(sensor_values, …)</p></td>
<td><p>Appends a datapoint to the file for continuous logging of streaming data.</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>/ root
<a href="#id9"><span class="problematic" id="id10">|</span></a>— waveforms (group)
|    <a href="#id11"><span class="problematic" id="id12">|</span></a>— time | pressure_data | flow_out | control_signal_in | control_signal_out | FiO2 | Cycle No.
|
<a href="#id13"><span class="problematic" id="id14">|</span></a>— controls (group)
|    <a href="#id15"><span class="problematic" id="id16">|</span></a>— (time, controllsignal)
|
<a href="#id17"><span class="problematic" id="id18">|</span></a>— derived_quantities (group)
|    <a href="#id19"><span class="problematic" id="id20">|</span></a>— (time, Cycle No, I_PHASE_DURATION, PIP_TIME, PEEP_time, PIP, PIP_PLATEAU, PEEP, VTE )
|
|</p>
</div></blockquote>
<dl class="simple">
<dt>Public Methods:</dt><dd><p>close_logfile():                      Flushes, and closes the logfile.
store_waveform_data(SensorValues):    Takes data from SensorValues, but DOES NOT FLUSH
store_controls():                     Store controls in the same file? TODO: Discuss
flush_logfile():                      Flush the data into the file</p>
</dd>
</dl>
<p>Initialized the coontinuous numerical logger class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>compression_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Compression level of the hdf5 file. Defaults to 9.</p>
</dd>
</dl>
<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">compression_level</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span> <span class="o">=</span> <span class="default_value">9</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialized the coontinuous numerical logger class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>compression_level</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>optional</em>) – Compression level of the hdf5 file. Defaults to 9.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger._open_logfile">
<code class="sig-name descname">_open_logfile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger._open_logfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger._open_logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens the hdf5 file and generates the file structure.</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.close_logfile">
<code class="sig-name descname">close_logfile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.close_logfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.close_logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes &amp; closes the open hdf file.</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.store_waveform_data">
<code class="sig-name descname">store_waveform_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sensor_values</span><span class="p">:</span> <span class="n">SensorValues</span></em>, <em class="sig-param"><span class="n">control_values</span><span class="p">:</span> <span class="n">ControlValues</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.store_waveform_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.store_waveform_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends a datapoint to the file for continuous logging of streaming data.
NOTE: Not flushed yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sensor_values</strong> (<a class="reference internal" href="pvp.common.message.html#pvp.common.message.SensorValues" title="pvp.common.message.SensorValues"><em>SensorValues</em></a>) – SensorValues to be stored in the file.</p></li>
<li><p><strong>control_values</strong> (<a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlValues" title="pvp.common.message.ControlValues"><em>ControlValues</em></a>) – ControlValues to be stored in the file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.store_control_command">
<code class="sig-name descname">store_control_command</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">control_setting</span><span class="p">:</span> <span class="n">ControlSetting</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.store_control_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.store_control_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends a datapoint to the event-table, derived from ControlSettings</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>control_setting</strong> (<a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlSetting" title="pvp.common.message.ControlSetting"><em>ControlSetting</em></a>) – ControlSettings object, the content of which should be stored</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.store_derived_data">
<code class="sig-name descname">store_derived_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">derived_values</span><span class="p">:</span> <span class="n">DerivedValues</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.store_derived_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.store_derived_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends a datapoint to the event-table, derived the continuous data (PIP, PEEP etc.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>derived_values</strong> (<a class="reference internal" href="pvp.common.message.html#pvp.common.message.DerivedValues" title="pvp.common.message.DerivedValues"><em>DerivedValues</em></a>) – DerivedValues object, the content of which should be stored</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.flush_logfile">
<code class="sig-name descname">flush_logfile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.flush_logfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.flush_logfile" title="Permalink to this definition">¶</a></dt>
<dd><p>This flushes the datapoints to the file.
To be executed every other second, e.g. at the end of breath cycle.</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.check_files">
<code class="sig-name descname">check_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.check_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.check_files" title="Permalink to this definition">¶</a></dt>
<dd><p>make sure that the file’s are not getting too large.</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.rotation_newfile">
<code class="sig-name descname">rotation_newfile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.rotation_newfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.rotation_newfile" title="Permalink to this definition">¶</a></dt>
<dd><p>This rotates through filenames, similar to a ringbuffer, to make sure that the program does not run of of space/</p>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.load_file">
<code class="sig-name descname">load_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.load_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.load_file" title="Permalink to this definition">¶</a></dt>
<dd><p>This loads a hdf5 file, and returns data to the user as a dictionary with two keys: waveform_data and control_data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Path to a hdf5-file. If none is given, uses currently open file. Defaults to None.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Containing the data arranged as ` {“waveform_data”: waveform_data, “control_data”: control_data, “derived_data”: derived_data}`</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.log2mat">
<code class="sig-name descname">log2mat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.log2mat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.log2mat" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the compressed hdf5 into a matlab file containing a matlab struct. This struct has the same structure as the hdf5 file, but is not compressed.
Use for any file:</p>
<blockquote>
<div><p>dl = DataLogger()
dl.log2mat(filename)</p>
</div></blockquote>
<p>The file is saved at the same path as <cite>.mat</cite> file, where the content is represented as matlab-structs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Path to a hdf5-file. If none is given, uses currently open file. Defaults to None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.loggers.DataLogger.log2csv">
<code class="sig-name descname">log2csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/loggers.html#DataLogger.log2csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.loggers.DataLogger.log2csv" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Translates the compressed hdf5 into three csv files containing:</dt><dd><ul class="simple">
<li><p>waveform_data (measurement once per cycle)</p></li>
<li><p>derived_quantities (PEEP, PIP etc.)</p></li>
<li><p>control_commands (control commands sent to the controller)</p></li>
</ul>
</dd>
</dl>
<p>This approximates the structure contained in the hdf5 file.
Use for any file:</p>
<blockquote>
<div><p>dl = DataLogger()
dl.log2csv(filename)</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – Path to a hdf5-file. If none is given, uses currently open file. Defaults to None.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pvp.common.message">
<span id="pvp-common-message-module"></span><h2>pvp.common.message module<a class="headerlink" href="#module-pvp.common.message" title="Permalink to this headline">¶</a></h2>
<p><strong>Classes</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlSetting" title="pvp.common.message.ControlSetting"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ControlSetting</span></code></a>(name, value, min_value, …)</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">param name</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlValues" title="pvp.common.message.ControlValues"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ControlValues</span></code></a>(control_signal_in, …)</p></td>
<td><p>Class to save control values, analogous to SensorValues.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.message.html#pvp.common.message.DerivedValues" title="pvp.common.message.DerivedValues"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DerivedValues</span></code></a>(timestamp, breath_count, …)</p></td>
<td><p>Class to save derived values, analogous to SensorValues.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.message.html#pvp.common.message.Error" title="pvp.common.message.Error"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Error</span></code></a>(errnum, err_str, timestamp)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.message.html#pvp.common.message.SensorValues" title="pvp.common.message.SensorValues"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SensorValues</span></code></a>([timestamp, loop_counter, …])</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">param timestamp</dt>
<dd class="field-odd"><p>from time.time(). must be passed explicitly or as an entry in <code class="docutils literal notranslate"><span class="pre">vals</span></code></p>
</dd>
</dl>
</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="pvp.common.message.SensorValues">
<em class="property">class </em><code class="sig-prename descclassname">pvp.common.message.</code><code class="sig-name descname">SensorValues</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestamp</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">loop_counter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">breath_count</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vals</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/message.html#SensorValues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.message.SensorValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestamp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – from time.time(). must be passed explicitly or as an entry in <code class="docutils literal notranslate"><span class="pre">vals</span></code></p></li>
<li><p><strong>loop_counter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – number of control_module loops. must be passed explicitly or as an entry in <code class="docutils literal notranslate"><span class="pre">vals</span></code></p></li>
<li><p><strong>breath_count</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – number of breaths taken. must be passed explicitly or as an entry in <code class="docutils literal notranslate"><span class="pre">vals</span></code></p></li>
<li><p><strong>**kwargs</strong> – sensor readings, must be in <code class="xref py py-data docutils literal notranslate"><span class="pre">pvp.values.SENSOR.keys</span></code></p></li>
</ul>
</dd>
</dl>
<p><strong>Methods</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.message.html#pvp.common.message.SensorValues.__init__" title="pvp.common.message.SensorValues.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([timestamp, loop_counter, …])</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">param timestamp</dt>
<dd class="field-odd"><p>from time.time(). must be passed explicitly or as an entry in <code class="docutils literal notranslate"><span class="pre">vals</span></code></p>
</dd>
</dl>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.message.html#pvp.common.message.SensorValues.to_dict" title="pvp.common.message.SensorValues.to_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_dict</span></code></a>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><strong>Attributes</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.message.html#pvp.common.message.SensorValues.additional_values" title="pvp.common.message.SensorValues.additional_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">additional_values</span></code></a></p></td>
<td><p>Built-in immutable sequence.</p></td>
</tr>
</tbody>
</table>
<dl class="py attribute">
<dt id="pvp.common.message.SensorValues.additional_values">
<code class="sig-name descname">additional_values</code><em class="property"> = ('timestamp', 'loop_counter', 'breath_count')</em><a class="headerlink" href="#pvp.common.message.SensorValues.additional_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.message.SensorValues.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestamp</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">loop_counter</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">breath_count</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vals</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/message.html#SensorValues.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.message.SensorValues.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestamp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – from time.time(). must be passed explicitly or as an entry in <code class="docutils literal notranslate"><span class="pre">vals</span></code></p></li>
<li><p><strong>loop_counter</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – number of control_module loops. must be passed explicitly or as an entry in <code class="docutils literal notranslate"><span class="pre">vals</span></code></p></li>
<li><p><strong>breath_count</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – number of breaths taken. must be passed explicitly or as an entry in <code class="docutils literal notranslate"><span class="pre">vals</span></code></p></li>
<li><p><strong>**kwargs</strong> – sensor readings, must be in <code class="xref py py-data docutils literal notranslate"><span class="pre">pvp.values.SENSOR.keys</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.message.SensorValues.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/message.html#SensorValues.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.message.SensorValues.to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pvp.common.message.ControlValues">
<em class="property">class </em><code class="sig-prename descclassname">pvp.common.message.</code><code class="sig-name descname">ControlValues</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">control_signal_in</span></em>, <em class="sig-param"><span class="n">control_signal_out</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/message.html#ControlValues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.message.ControlValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to save control values, analogous to SensorValues.
Key difference: SensorValues come exclusively from the sensors, ControlValues contains controller variables, i.e. control signals and controlled signals (the flows).
:param control_signal_in:
:param control_signal_out:</p>
</dd></dl>

<dl class="py class">
<dt id="pvp.common.message.DerivedValues">
<em class="property">class </em><code class="sig-prename descclassname">pvp.common.message.</code><code class="sig-name descname">DerivedValues</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timestamp</span></em>, <em class="sig-param"><span class="n">breath_count</span></em>, <em class="sig-param"><span class="n">I_phase_duration</span></em>, <em class="sig-param"><span class="n">pip_time</span></em>, <em class="sig-param"><span class="n">peep_time</span></em>, <em class="sig-param"><span class="n">pip</span></em>, <em class="sig-param"><span class="n">pip_plateau</span></em>, <em class="sig-param"><span class="n">peep</span></em>, <em class="sig-param"><span class="n">vte</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/message.html#DerivedValues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.message.DerivedValues" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to save derived values, analogous to SensorValues.
Key difference: SensorValues come exclusively from the sensors, DerivedValues contain estimates of I_PHASE_DURATION, PIP_TIME, PEEP_time, PIP, PIP_PLATEAU, PEEP, and VTE.
:param timestamp:
:param breath_count:
:param I_phase_duration:
:param pip_time:
:param peep_time:
:param pip:
:param pip_plateau:
:param peep:
:param vte:</p>
</dd></dl>

<dl class="py class">
<dt id="pvp.common.message.ControlSetting">
<em class="property">class </em><code class="sig-prename descclassname">pvp.common.message.</code><code class="sig-name descname">ControlSetting</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName" title="pvp.common.values.ValueName">pvp.common.values.ValueName</a></span></em>, <em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_value</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_value</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">timestamp</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">range_severity</span><span class="p">:</span> <span class="n">AlarmSeverity</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/message.html#ControlSetting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.message.ControlSetting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – </p></li>
<li><p><strong>value</strong> – </p></li>
<li><p><strong>min_value</strong> – </p></li>
<li><p><strong>max_value</strong> – </p></li>
<li><p><strong>timestamp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – <code class="docutils literal notranslate"><span class="pre">time.time()</span></code></p></li>
<li><p><strong>range_severity</strong> (<a class="reference internal" href="pvp.alarm.html#pvp.alarm.AlarmSeverity" title="pvp.alarm.AlarmSeverity"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlarmSeverity</span></code></a>) – Some control settings have multiple limits for different alarm severities,
this attr, when present, specified which is being set.</p></li>
</ul>
</dd>
</dl>
<p><strong>Methods</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.message.html#pvp.common.message.ControlSetting.__init__" title="pvp.common.message.ControlSetting.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(name, value, min_value, max_value, …)</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">param name</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="pvp.common.message.ControlSetting.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName" title="pvp.common.values.ValueName">pvp.common.values.ValueName</a></span></em>, <em class="sig-param"><span class="n">value</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_value</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_value</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">timestamp</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">range_severity</span><span class="p">:</span> <span class="n">AlarmSeverity</span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/message.html#ControlSetting.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.message.ControlSetting.__init__" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – </p></li>
<li><p><strong>value</strong> – </p></li>
<li><p><strong>min_value</strong> – </p></li>
<li><p><strong>max_value</strong> – </p></li>
<li><p><strong>timestamp</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – <code class="docutils literal notranslate"><span class="pre">time.time()</span></code></p></li>
<li><p><strong>range_severity</strong> (<a class="reference internal" href="pvp.alarm.html#pvp.alarm.AlarmSeverity" title="pvp.alarm.AlarmSeverity"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlarmSeverity</span></code></a>) – Some control settings have multiple limits for different alarm severities,
this attr, when present, specified which is being set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pvp.common.message.Error">
<em class="property">class </em><code class="sig-prename descclassname">pvp.common.message.</code><code class="sig-name descname">Error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">errnum</span></em>, <em class="sig-param"><span class="n">err_str</span></em>, <em class="sig-param"><span class="n">timestamp</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/message.html#Error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.message.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-pvp.common.prefs">
<span id="pvp-common-prefs-module"></span><h2>pvp.common.prefs module<a class="headerlink" href="#module-pvp.common.prefs" title="Permalink to this headline">¶</a></h2>
<p>System preferences are stored in ~/pvp/prefs.json</p>
<p><strong>Data</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.LOADED" title="pvp.common.prefs.LOADED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LOADED</span></code></a></p></td>
<td><p>bool: flag to indicate whether prefs have been loaded (and thus <a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.set_pref" title="pvp.common.prefs.set_pref"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_pref()</span></code></a> should write to disk.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs._DEFAULTS" title="pvp.common.prefs._DEFAULTS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_DEFAULTS</span></code></a></p></td>
<td><p>Declare all available parameters and set default values.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs._DIRECTORIES" title="pvp.common.prefs._DIRECTORIES"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_DIRECTORIES</span></code></a></p></td>
<td><p>Directories to ensure are created and added to prefs.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs._LOCK" title="pvp.common.prefs._LOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_LOCK</span></code></a></p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">mp.Lock</span></code> : Locks access to <cite>prefs_fn</cite></p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.get_pref" title="pvp.common.prefs.get_pref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_pref</span></code></a>(key)</p></td>
<td><p>Get global configuration value</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.init" title="pvp.common.prefs.init"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init</span></code></a>()</p></td>
<td><p>Initialize prefs.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.load_prefs" title="pvp.common.prefs.load_prefs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load_prefs</span></code></a>(prefs_fn)</p></td>
<td><p>Load prefs from a .json prefs file, combining (and overwriting) any existing prefs, and then saves.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.make_dirs" title="pvp.common.prefs.make_dirs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_dirs</span></code></a>()</p></td>
<td><p>ensures _DIRECTORIES are created and added to prefs.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.save_prefs" title="pvp.common.prefs.save_prefs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_prefs</span></code></a>(prefs_fn)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.set_pref" title="pvp.common.prefs.set_pref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pref</span></code></a>(key, val)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py data">
<dt id="pvp.common.prefs._LOCK">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">_LOCK</code><em class="property"> = &lt;Lock(owner=unknown)&gt;</em><a class="headerlink" href="#pvp.common.prefs._LOCK" title="Permalink to this definition">¶</a></dt>
<dd><p>Locks access to <cite>prefs_fn</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">mp.Lock</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt id="pvp.common.prefs._DIRECTORIES">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">_DIRECTORIES</code><em class="property"> = {'DATA_DIR': '/Users/jonny/pvp/logs', 'LOG_DIR': '/Users/jonny/pvp/logs', 'VENT_DIR': '/Users/jonny/pvp'}</em><a class="headerlink" href="#pvp.common.prefs._DIRECTORIES" title="Permalink to this definition">¶</a></dt>
<dd><p>Directories to ensure are created and added to prefs.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">VENT_DIR</span></code>: ~/pvp - base directory for user storage</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LOG_DIR</span></code>: ~/pvp/logs - for storage of event and alarm logs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DATA_DIR</span></code>: ~/pvp/data - for storage of waveform data</p></li>
</ul>
</dd></dl>

<dl class="py data">
<dt id="pvp.common.prefs.LOADED">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">LOADED</code><em class="property"> = &lt;Synchronized wrapper for c_bool(True)&gt;</em><a class="headerlink" href="#pvp.common.prefs.LOADED" title="Permalink to this definition">¶</a></dt>
<dd><p>flag to indicate whether prefs have been loaded (and thus <a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.set_pref" title="pvp.common.prefs.set_pref"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_pref()</span></code></a> should write to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt id="pvp.common.prefs._DEFAULTS">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">_DEFAULTS</code><em class="property"> = {'BREATH_DETECTION': True, 'BREATH_PRESSURE_DROP': 4, 'CONTROLLER_LOOPS_UNTIL_UPDATE': 1, 'CONTROLLER_LOOP_UPDATE_TIME': 0.0, 'CONTROLLER_LOOP_UPDATE_TIME_SIMULATOR': 0.005, 'CONTROLLER_MAX_FLOW': 10, 'CONTROLLER_MAX_PRESSURE': 100, 'CONTROLLER_MAX_STUCK_SENSOR': 0.2, 'CONTROLLER_RINGBUFFER_SIZE': 100, 'COUGH_DURATION': 0.1, 'ENABLE_DIALOGS': True, 'ENABLE_WARNINGS': True, 'GUI_STATE_FN': 'gui_state.json', 'HEARTBEAT_TIMEOUT': 0.02, 'LOGGING_MAX_BYTES': 2147483648, 'LOGGING_MAX_FILES': 5, 'LOGLEVEL': 'WARNING', 'PREFS_FN': None, 'TIMEOUT': 0.05, 'TIME_FIRST_START': None}</em><a class="headerlink" href="#pvp.common.prefs._DEFAULTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Declare all available parameters and set default values. If no default, set as None.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PREFS_FN</span></code> - absolute path to the prefs file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIME_FIRST_START</span></code> - time when the program has been started for the first time</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VENT_DIR</span></code>: ~/pvp - base directory for user storage</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LOG_DIR</span></code>: ~/pvp/logs - for storage of event and alarm logs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DATA_DIR</span></code>: ~/pvp/data - for storage of waveform data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LOGGING_MAX_BYTES</span></code> : the <strong>total</strong> storage space for all loggers – each logger gets <code class="docutils literal notranslate"><span class="pre">LOGGING_MAX_BYTES/len(loggers)</span></code> space</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LOGGING_MAX_FILES</span></code> : number of files to split each logger’s logs across</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GUI_STATE_FN</span></code>: Filename of gui control state file, relative to <code class="docutils literal notranslate"><span class="pre">VENT_DIR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BREATH_PRESSURE_DROP</span></code> : pressure drop below peep that is detected as an attempt to breath.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BREATH_DETECTION</span></code>: (bool) whether the controller allows autonomous breaths (measured pressure is <code class="docutils literal notranslate"><span class="pre">BREATH_PRESSURE_DROP</span></code> below set PEEP)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTROLLER_MAX_FLOW</span></code>: If flows above that, hardware cannot be correct.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTROLLER_MAX_PRESSURE</span></code>: If pressure above that, hardware cannot be correct.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTROLLER_MAX_STUCK_SENSOR</span></code>: Max amount of time (in s) before considering a sensor stuck</p></li>
</ul>
</dd></dl>

<dl class="py function">
<dt id="pvp.common.prefs.set_pref">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">set_pref</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em>, <em class="sig-param"><span class="n">val</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/prefs.html#set_pref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.prefs.set_pref" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pvp.common.prefs.get_pref">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">get_pref</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/prefs.html#get_pref"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.prefs.get_pref" title="Permalink to this definition">¶</a></dt>
<dd><p>Get global configuration value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – get configuration value with specific <code class="docutils literal notranslate"><span class="pre">key</span></code> .
if <code class="docutils literal notranslate"><span class="pre">None</span></code> , return all config values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pvp.common.prefs.load_prefs">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">load_prefs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prefs_fn</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/prefs.html#load_prefs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.prefs.load_prefs" title="Permalink to this definition">¶</a></dt>
<dd><p>Load prefs from a .json prefs file, combining (and overwriting) any existing prefs, and then saves.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>once this function is called, <a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.set_pref" title="pvp.common.prefs.set_pref"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_pref()</span></code></a> will update the prefs file on disk.
So if <a class="reference internal" href="pvp.common.prefs.html#pvp.common.prefs.load_prefs" title="pvp.common.prefs.load_prefs"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_prefs()</span></code></a> is called again at any point it should not change prefs.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>prefs_fn</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – path of prefs.json</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pvp.common.prefs.save_prefs">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">save_prefs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">prefs_fn</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/prefs.html#save_prefs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.prefs.save_prefs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pvp.common.prefs.make_dirs">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">make_dirs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/prefs.html#make_dirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.prefs.make_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>ensures _DIRECTORIES are created and added to prefs.</p>
</dd></dl>

<dl class="py function">
<dt id="pvp.common.prefs.init">
<code class="sig-prename descclassname">pvp.common.prefs.</code><code class="sig-name descname">init</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/prefs.html#init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.prefs.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize prefs. Called in <code class="docutils literal notranslate"><span class="pre">pvp.__init__.py</span></code> to ensure prefs are initialized before anything else.</p>
</dd></dl>

</div>
<div class="section" id="module-pvp.common.unit_conversion">
<span id="pvp-common-unit-conversion-module"></span><h2>pvp.common.unit_conversion module<a class="headerlink" href="#module-pvp.common.unit_conversion" title="Permalink to this headline">¶</a></h2>
<p><strong>Functions</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.unit_conversion.html#pvp.common.unit_conversion.cmH2O_to_hPa" title="pvp.common.unit_conversion.cmH2O_to_hPa"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cmH2O_to_hPa</span></code></a>(pressure)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.unit_conversion.html#pvp.common.unit_conversion.hPa_to_cmH2O" title="pvp.common.unit_conversion.hPa_to_cmH2O"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hPa_to_cmH2O</span></code></a>(pressure)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.unit_conversion.html#pvp.common.unit_conversion.rounded_string" title="pvp.common.unit_conversion.rounded_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rounded_string</span></code></a>(value[, decimals])</p></td>
<td><p>create a rounded string of a number that doesnt have trailing .0 when decimals = 0</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt id="pvp.common.unit_conversion.cmH2O_to_hPa">
<code class="sig-prename descclassname">pvp.common.unit_conversion.</code><code class="sig-name descname">cmH2O_to_hPa</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pressure</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/unit_conversion.html#cmH2O_to_hPa"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.unit_conversion.cmH2O_to_hPa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pvp.common.unit_conversion.hPa_to_cmH2O">
<code class="sig-prename descclassname">pvp.common.unit_conversion.</code><code class="sig-name descname">hPa_to_cmH2O</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pressure</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/unit_conversion.html#hPa_to_cmH2O"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.unit_conversion.hPa_to_cmH2O" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pvp.common.unit_conversion.rounded_string">
<code class="sig-prename descclassname">pvp.common.unit_conversion.</code><code class="sig-name descname">rounded_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">decimals</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/unit_conversion.html#rounded_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.unit_conversion.rounded_string" title="Permalink to this definition">¶</a></dt>
<dd><p>create a rounded string of a number that doesnt have trailing .0 when decimals = 0</p>
</dd></dl>

</div>
<div class="section" id="module-pvp.common.utils">
<span id="pvp-common-utils-module"></span><h2>pvp.common.utils module<a class="headerlink" href="#module-pvp.common.utils" title="Permalink to this headline">¶</a></h2>
<p><strong>Exceptions</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.utils.html#pvp.common.utils.TimeoutException" title="pvp.common.utils.TimeoutException"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TimeoutException</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><strong>Functions</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.utils.html#pvp.common.utils.time_limit" title="pvp.common.utils.time_limit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time_limit</span></code></a>(seconds)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.utils.html#pvp.common.utils.timeout" title="pvp.common.utils.timeout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timeout</span></code></a>(func)</p></td>
<td><p>Defines a decorator for a 50ms timeout.</p></td>
</tr>
</tbody>
</table>
<dl class="py exception">
<dt id="pvp.common.utils.TimeoutException">
<em class="property">exception </em><code class="sig-prename descclassname">pvp.common.utils.</code><code class="sig-name descname">TimeoutException</code><a class="reference internal" href="_modules/pvp/common/utils.html#TimeoutException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.utils.TimeoutException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt id="pvp.common.utils.time_limit">
<code class="sig-prename descclassname">pvp.common.utils.</code><code class="sig-name descname">time_limit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">seconds</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/utils.html#time_limit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.utils.time_limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pvp.common.utils.timeout">
<code class="sig-prename descclassname">pvp.common.utils.</code><code class="sig-name descname">timeout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/utils.html#timeout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.utils.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a decorator for a 50ms timeout.
Usage/Test:</p>
<blockquote>
<div><p>&#64;timeout
def foo(sleeptime):</p>
<blockquote>
<div><p>time.sleep(sleeptime)</p>
</div></blockquote>
<p>print(“hello”)</p>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="module-pvp.common.values">
<span id="pvp-common-values-module"></span><h2>pvp.common.values module<a class="headerlink" href="#module-pvp.common.values" title="Permalink to this headline">¶</a></h2>
<p><strong>Data</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.CONTROL" title="pvp.common.values.CONTROL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CONTROL</span></code></a></p></td>
<td><p>Values to control but not monitor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.DISPLAY_CONTROL" title="pvp.common.values.DISPLAY_CONTROL"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DISPLAY_CONTROL</span></code></a></p></td>
<td><p>Values that should be displayed in the GUI.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.DISPLAY_MONITOR" title="pvp.common.values.DISPLAY_MONITOR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DISPLAY_MONITOR</span></code></a></p></td>
<td><p>Values that should be displayed in the GUI.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.LIMITS" title="pvp.common.values.LIMITS"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LIMITS</span></code></a></p></td>
<td><p>Values that are dependent on other values:</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.SENSOR" title="pvp.common.values.SENSOR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SENSOR</span></code></a></p></td>
<td><p>Values to monitor but not control.</p></td>
</tr>
</tbody>
</table>
<p><strong>Classes</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value" title="pvp.common.values.Value"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Value</span></code></a>(name, units, abs_range, safe_range, …)</p></td>
<td><p>Definition of a value.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName" title="pvp.common.values.ValueName"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValueName</span></code></a>(value)</p></td>
<td><p>An enumeration.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="pvp.common.values.ValueName">
<em class="property">class </em><code class="sig-prename descclassname">pvp.common.values.</code><code class="sig-name descname">ValueName</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/values.html#ValueName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.values.ValueName" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/enum.html#enum.Enum" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></a></p>
<p>An enumeration.</p>
<p><strong>Attributes</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.PIP" title="pvp.common.values.ValueName.PIP"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PIP</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.PIP_TIME" title="pvp.common.values.ValueName.PIP_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PIP_TIME</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.PEEP" title="pvp.common.values.ValueName.PEEP"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PEEP</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.PEEP_TIME" title="pvp.common.values.ValueName.PEEP_TIME"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PEEP_TIME</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.BREATHS_PER_MINUTE" title="pvp.common.values.ValueName.BREATHS_PER_MINUTE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BREATHS_PER_MINUTE</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.INSPIRATION_TIME_SEC" title="pvp.common.values.ValueName.INSPIRATION_TIME_SEC"><code class="xref py py-obj docutils literal notranslate"><span class="pre">INSPIRATION_TIME_SEC</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.IE_RATIO" title="pvp.common.values.ValueName.IE_RATIO"><code class="xref py py-obj docutils literal notranslate"><span class="pre">IE_RATIO</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.FIO2" title="pvp.common.values.ValueName.FIO2"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FIO2</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.VTE" title="pvp.common.values.ValueName.VTE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">VTE</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.PRESSURE" title="pvp.common.values.ValueName.PRESSURE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PRESSURE</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName.FLOWOUT" title="pvp.common.values.ValueName.FLOWOUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FLOWOUT</span></code></a></p></td>
<td><p>int([x]) -&gt; integer</p></td>
</tr>
</tbody>
</table>
<dl class="py attribute">
<dt id="pvp.common.values.ValueName.PIP">
<code class="sig-name descname">PIP</code><em class="property"> = 1</em><a class="headerlink" href="#pvp.common.values.ValueName.PIP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.PIP_TIME">
<code class="sig-name descname">PIP_TIME</code><em class="property"> = 2</em><a class="headerlink" href="#pvp.common.values.ValueName.PIP_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.PEEP">
<code class="sig-name descname">PEEP</code><em class="property"> = 3</em><a class="headerlink" href="#pvp.common.values.ValueName.PEEP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.PEEP_TIME">
<code class="sig-name descname">PEEP_TIME</code><em class="property"> = 4</em><a class="headerlink" href="#pvp.common.values.ValueName.PEEP_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.BREATHS_PER_MINUTE">
<code class="sig-name descname">BREATHS_PER_MINUTE</code><em class="property"> = 5</em><a class="headerlink" href="#pvp.common.values.ValueName.BREATHS_PER_MINUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.INSPIRATION_TIME_SEC">
<code class="sig-name descname">INSPIRATION_TIME_SEC</code><em class="property"> = 6</em><a class="headerlink" href="#pvp.common.values.ValueName.INSPIRATION_TIME_SEC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.IE_RATIO">
<code class="sig-name descname">IE_RATIO</code><em class="property"> = 7</em><a class="headerlink" href="#pvp.common.values.ValueName.IE_RATIO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.FIO2">
<code class="sig-name descname">FIO2</code><em class="property"> = 8</em><a class="headerlink" href="#pvp.common.values.ValueName.FIO2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.VTE">
<code class="sig-name descname">VTE</code><em class="property"> = 9</em><a class="headerlink" href="#pvp.common.values.ValueName.VTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.PRESSURE">
<code class="sig-name descname">PRESSURE</code><em class="property"> = 10</em><a class="headerlink" href="#pvp.common.values.ValueName.PRESSURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="pvp.common.values.ValueName.FLOWOUT">
<code class="sig-name descname">FLOWOUT</code><em class="property"> = 11</em><a class="headerlink" href="#pvp.common.values.ValueName.FLOWOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pvp.common.values.Value">
<em class="property">class </em><code class="sig-prename descclassname">pvp.common.values.</code><code class="sig-name descname">Value</code><span class="sig-paren">(</span><em class="sig-param">name: str</em>, <em class="sig-param">units: str</em>, <em class="sig-param">abs_range: tuple</em>, <em class="sig-param">safe_range: tuple</em>, <em class="sig-param">decimals: int</em>, <em class="sig-param">control: bool</em>, <em class="sig-param">sensor: bool</em>, <em class="sig-param">display: bool</em>, <em class="sig-param">plot: bool = False</em>, <em class="sig-param">plot_limits: Union[None</em>, <em class="sig-param">Tuple[pvp.common.values.ValueName]] = None</em>, <em class="sig-param">control_type: Union[None</em>, <em class="sig-param">str] = None</em>, <em class="sig-param">group: Union[None</em>, <em class="sig-param">dict] = None</em>, <em class="sig-param">default: (&lt;class 'int'&gt;</em>, <em class="sig-param">&lt;class 'float'&gt;) = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/values.html#Value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.values.Value" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Definition of a value.</p>
<p>Used by the GUI and control module to set defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Human-readable name of the value</p></li>
<li><p><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Human-readable description of units</p></li>
<li><p><strong>abs_range</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – tuple of ints or floats setting the logical limit of the value,
eg. a percent between 0 and 100, (0, 100)</p></li>
<li><p><strong>safe_range</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – <p>tuple of ints or floats setting the safe ranges of the value,</p>
<p>note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>this is not the same thing as the user-set alarm values,
though the user-set alarm values are initialized as ``safe_range``.
</pre></div>
</div>
</p></li>
<li><p><strong>decimals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of decimals of precision used when displaying the value</p></li>
<li><p><strong>display</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – whether the value should be displayed in the monitor. if <code class="docutils literal notranslate"><span class="pre">control</span> <span class="pre">==</span> <span class="pre">True</span></code>,
automatically set to <code class="docutils literal notranslate"><span class="pre">False</span></code> because all controls have their own numerical displays</p></li>
<li><p><strong>plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – whether or not the value is plottable int he center plot window</p></li>
<li><p><strong>plot_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>(</em><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName" title="pvp.common.values.ValueName"><em>ValueName</em></a><em>)</em>) – If plottable, and the plotted value has some alarm limits for another value,
plot those limits as horizontal lines in the plot. eg. the PIP alarm range limits should be plotted on the Pressure plot</p></li>
</ul>
</dd>
</dl>
<p><strong>Methods</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.__init__" title="pvp.common.values.Value.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(name, units, abs_range, safe_range, …)</p></td>
<td><p>Definition of a value.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.to_dict" title="pvp.common.values.Value.to_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_dict</span></code></a>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p><strong>Attributes</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.abs_range" title="pvp.common.values.Value.abs_range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">abs_range</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.control" title="pvp.common.values.Value.control"><code class="xref py py-obj docutils literal notranslate"><span class="pre">control</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.control_type" title="pvp.common.values.Value.control_type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">control_type</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.decimals" title="pvp.common.values.Value.decimals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decimals</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.default" title="pvp.common.values.Value.default"><code class="xref py py-obj docutils literal notranslate"><span class="pre">default</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.display" title="pvp.common.values.Value.display"><code class="xref py py-obj docutils literal notranslate"><span class="pre">display</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.group" title="pvp.common.values.Value.group"><code class="xref py py-obj docutils literal notranslate"><span class="pre">group</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.name" title="pvp.common.values.Value.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.plot" title="pvp.common.values.Value.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.plot_limits" title="pvp.common.values.Value.plot_limits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_limits</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.safe_range" title="pvp.common.values.Value.safe_range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">safe_range</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="pvp.common.values.html#pvp.common.values.Value.sensor" title="pvp.common.values.Value.sensor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sensor</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="pvp.common.values.Value.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">name: str</em>, <em class="sig-param">units: str</em>, <em class="sig-param">abs_range: tuple</em>, <em class="sig-param">safe_range: tuple</em>, <em class="sig-param">decimals: int</em>, <em class="sig-param">control: bool</em>, <em class="sig-param">sensor: bool</em>, <em class="sig-param">display: bool</em>, <em class="sig-param">plot: bool = False</em>, <em class="sig-param">plot_limits: Union[None</em>, <em class="sig-param">Tuple[pvp.common.values.ValueName]] = None</em>, <em class="sig-param">control_type: Union[None</em>, <em class="sig-param">str] = None</em>, <em class="sig-param">group: Union[None</em>, <em class="sig-param">dict] = None</em>, <em class="sig-param">default: (&lt;class 'int'&gt;</em>, <em class="sig-param">&lt;class 'float'&gt;) = None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/values.html#Value.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.values.Value.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Definition of a value.</p>
<p>Used by the GUI and control module to set defaults.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Human-readable name of the value</p></li>
<li><p><strong>units</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Human-readable description of units</p></li>
<li><p><strong>abs_range</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – tuple of ints or floats setting the logical limit of the value,
eg. a percent between 0 and 100, (0, 100)</p></li>
<li><p><strong>safe_range</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a>) – <p>tuple of ints or floats setting the safe ranges of the value,</p>
<p>note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>this is not the same thing as the user-set alarm values,
though the user-set alarm values are initialized as ``safe_range``.
</pre></div>
</div>
</p></li>
<li><p><strong>decimals</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – the number of decimals of precision used when displaying the value</p></li>
<li><p><strong>display</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – whether the value should be displayed in the monitor. if <code class="docutils literal notranslate"><span class="pre">control</span> <span class="pre">==</span> <span class="pre">True</span></code>,
automatically set to <code class="docutils literal notranslate"><span class="pre">False</span></code> because all controls have their own numerical displays</p></li>
<li><p><strong>plot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – whether or not the value is plottable int he center plot window</p></li>
<li><p><strong>plot_limits</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><em>tuple</em></a><em>(</em><a class="reference internal" href="pvp.common.values.html#pvp.common.values.ValueName" title="pvp.common.values.ValueName"><em>ValueName</em></a><em>)</em>) – If plottable, and the plotted value has some alarm limits for another value,
plot those limits as horizontal lines in the plot. eg. the PIP alarm range limits should be plotted on the Pressure plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#pvp.common.values.Value.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.abs_range">
<em class="property">property </em><code class="sig-name descname">abs_range</code><a class="headerlink" href="#pvp.common.values.Value.abs_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.safe_range">
<em class="property">property </em><code class="sig-name descname">safe_range</code><a class="headerlink" href="#pvp.common.values.Value.safe_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.decimals">
<em class="property">property </em><code class="sig-name descname">decimals</code><a class="headerlink" href="#pvp.common.values.Value.decimals" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.default">
<em class="property">property </em><code class="sig-name descname">default</code><a class="headerlink" href="#pvp.common.values.Value.default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.control">
<em class="property">property </em><code class="sig-name descname">control</code><a class="headerlink" href="#pvp.common.values.Value.control" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.sensor">
<em class="property">property </em><code class="sig-name descname">sensor</code><a class="headerlink" href="#pvp.common.values.Value.sensor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.display">
<em class="property">property </em><code class="sig-name descname">display</code><a class="headerlink" href="#pvp.common.values.Value.display" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.control_type">
<em class="property">property </em><code class="sig-name descname">control_type</code><a class="headerlink" href="#pvp.common.values.Value.control_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.group">
<em class="property">property </em><code class="sig-name descname">group</code><a class="headerlink" href="#pvp.common.values.Value.group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.plot">
<em class="property">property </em><code class="sig-name descname">plot</code><a class="headerlink" href="#pvp.common.values.Value.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.plot_limits">
<em class="property">property </em><code class="sig-name descname">plot_limits</code><a class="headerlink" href="#pvp.common.values.Value.plot_limits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pvp.common.values.Value.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pvp/common/values.html#Value.to_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvp.common.values.Value.to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt id="pvp.common.values.SENSOR">
<code class="sig-prename descclassname">pvp.common.values.</code><code class="sig-name descname">SENSOR</code><em class="property"> = OrderedDict([(&lt;ValueName.PIP: 1&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PEEP: 3&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.BREATHS_PER_MINUTE: 5&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.INSPIRATION_TIME_SEC: 6&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PRESSURE: 10&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.VTE: 9&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.FIO2: 8&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.FLOWOUT: 11&gt;, &lt;pvp.common.values.Value object&gt;)])</em><a class="headerlink" href="#pvp.common.values.SENSOR" title="Permalink to this definition">¶</a></dt>
<dd><p>Values to monitor but not control.</p>
<p>Used to set alarms for out-of-bounds sensor values. These should be sent from the control module and not computed.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;name&#39;</span> <span class="p">(</span><span class="nb">str</span><span class="p">):</span>  <span class="n">Human</span> <span class="n">readable</span> <span class="n">name</span><span class="p">,</span>
    <span class="s1">&#39;units&#39;</span> <span class="p">(</span><span class="nb">str</span><span class="p">):</span> <span class="n">units</span> <span class="n">string</span><span class="p">,</span> <span class="p">(</span><span class="n">like</span> <span class="n">degrees</span> <span class="ow">or</span> <span class="o">%</span><span class="p">),</span>
    <span class="s1">&#39;abs_range&#39;</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">):</span> <span class="n">absolute</span> <span class="n">possible</span> <span class="nb">range</span> <span class="n">of</span> <span class="n">values</span><span class="p">,</span>
    <span class="s1">&#39;safe_range&#39;</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">):</span> <span class="nb">range</span> <span class="n">outside</span> <span class="n">of</span> <span class="n">which</span> <span class="n">a</span> <span class="n">warning</span> <span class="n">will</span> <span class="n">be</span> <span class="n">raised</span><span class="p">,</span>
    <span class="s1">&#39;decimals&#39;</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">The</span> <span class="n">number</span> <span class="n">of</span> <span class="n">decimals</span> <span class="n">of</span> <span class="n">precision</span> <span class="n">this</span> <span class="n">number</span> <span class="n">should</span> <span class="n">be</span> <span class="n">displayed</span> <span class="k">with</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt id="pvp.common.values.CONTROL">
<code class="sig-prename descclassname">pvp.common.values.</code><code class="sig-name descname">CONTROL</code><em class="property"> = OrderedDict([(&lt;ValueName.PIP: 1&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PEEP: 3&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.BREATHS_PER_MINUTE: 5&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.INSPIRATION_TIME_SEC: 6&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.IE_RATIO: 7&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PIP_TIME: 2&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PEEP_TIME: 4&gt;, &lt;pvp.common.values.Value object&gt;)])</em><a class="headerlink" href="#pvp.common.values.CONTROL" title="Permalink to this definition">¶</a></dt>
<dd><p>Values to control but not monitor.</p>
<p>Sent to control module to control operation of ventilator.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;name&#39;</span> <span class="p">(</span><span class="nb">str</span><span class="p">):</span>  <span class="n">Human</span> <span class="n">readable</span> <span class="n">name</span><span class="p">,</span>
    <span class="s1">&#39;units&#39;</span> <span class="p">(</span><span class="nb">str</span><span class="p">):</span> <span class="n">units</span> <span class="n">string</span><span class="p">,</span> <span class="p">(</span><span class="n">like</span> <span class="n">degrees</span> <span class="ow">or</span> <span class="o">%</span><span class="p">),</span>
    <span class="s1">&#39;abs_range&#39;</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">):</span> <span class="n">absolute</span> <span class="n">possible</span> <span class="nb">range</span> <span class="n">of</span> <span class="n">values</span><span class="p">,</span>
    <span class="s1">&#39;safe_range&#39;</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">):</span> <span class="nb">range</span> <span class="n">outside</span> <span class="n">of</span> <span class="n">which</span> <span class="n">a</span> <span class="n">warning</span> <span class="n">will</span> <span class="n">be</span> <span class="n">raised</span><span class="p">,</span>
    <span class="s1">&#39;default&#39;</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span> <span class="n">the</span> <span class="n">default</span> <span class="n">value</span> <span class="n">of</span> <span class="n">the</span> <span class="n">parameter</span><span class="p">,</span>
    <span class="s1">&#39;decimals&#39;</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">The</span> <span class="n">number</span> <span class="n">of</span> <span class="n">decimals</span> <span class="n">of</span> <span class="n">precision</span> <span class="n">this</span> <span class="n">number</span> <span class="n">should</span> <span class="n">be</span> <span class="n">displayed</span> <span class="k">with</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py data">
<dt id="pvp.common.values.DISPLAY_MONITOR">
<code class="sig-prename descclassname">pvp.common.values.</code><code class="sig-name descname">DISPLAY_MONITOR</code><em class="property"> = OrderedDict([(&lt;ValueName.PIP: 1&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PEEP: 3&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.BREATHS_PER_MINUTE: 5&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.INSPIRATION_TIME_SEC: 6&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PRESSURE: 10&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.VTE: 9&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.FIO2: 8&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.FLOWOUT: 11&gt;, &lt;pvp.common.values.Value object&gt;)])</em><a class="headerlink" href="#pvp.common.values.DISPLAY_MONITOR" title="Permalink to this definition">¶</a></dt>
<dd><p>Values that should be displayed in the GUI. If a value is also a CONTROL it will always have the measured value displayed,
these values are those that are sensor values that are uncontrolled and should be displayed.</p>
</dd></dl>

<dl class="py data">
<dt id="pvp.common.values.DISPLAY_CONTROL">
<code class="sig-prename descclassname">pvp.common.values.</code><code class="sig-name descname">DISPLAY_CONTROL</code><em class="property"> = OrderedDict([(&lt;ValueName.PIP: 1&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PEEP: 3&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.BREATHS_PER_MINUTE: 5&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.INSPIRATION_TIME_SEC: 6&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.IE_RATIO: 7&gt;, &lt;pvp.common.values.Value object&gt;), (&lt;ValueName.PIP_TIME: 2&gt;, &lt;pvp.common.values.Value object&gt;)])</em><a class="headerlink" href="#pvp.common.values.DISPLAY_CONTROL" title="Permalink to this definition">¶</a></dt>
<dd><p>Values that should be displayed in the GUI. If a value is also a CONTROL it will always have the measured value displayed,
these values are those that are sensor values that are uncontrolled and should be displayed.</p>
</dd></dl>

<dl class="py data">
<dt id="pvp.common.values.LIMITS">
<code class="sig-prename descclassname">pvp.common.values.</code><code class="sig-name descname">LIMITS</code><em class="property"> = {}</em><a class="headerlink" href="#pvp.common.values.LIMITS" title="Permalink to this definition">¶</a></dt>
<dd><p>Values that are dependent on other values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;dependent_value&quot;</span><span class="p">:</span> <span class="p">(</span>
        <span class="p">[</span><span class="s1">&#39;value_1&#39;</span><span class="p">,</span> <span class="s1">&#39;value_2&#39;</span><span class="p">],</span>
        <span class="n">callable_returning_boolean</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where the first argument in the tuple is a list of the values that will be
given as argument to the <code class="docutils literal notranslate"><span class="pre">callable_returning_boolean</span></code> which will return
whether (<code class="docutils literal notranslate"><span class="pre">True</span></code>) or not (<code class="docutils literal notranslate"><span class="pre">False</span></code>) a value is allowed.</p>
</dd></dl>

</div>
<div class="section" id="module-pvp.common">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pvp.common" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, jonny saunders et al

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-XXXXXXX-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>